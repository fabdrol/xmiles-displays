(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{183:function(e,t,r){e.exports=r(350)},263:function(e,t){},265:function(e,t){},302:function(e,t,r){},303:function(e,t,r){},345:function(e,t,r){},346:function(e,t,r){},347:function(e,t,r){},348:function(e,t,r){},349:function(e,t,r){},350:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(175),i=r(23),c=r(178),s=r.n(c),u=r(41),l=r(182),f=r(180),h=r(37),d=r(9),p=r(63),v=r(179),y=r.n(v),g={"tanks.fuel.0.currentLevel":{conversion:"percentage",label:"Tank %",postfix:""},"navigation.headingTrue":{conversion:"degrees",label:"Heading (T)",postfix:"\xb0"},"environment.depth.belowTransducer":{conversion:null,label:"Depth (sonar)",postfix:null},"environment.depth.belowKeel":{conversion:null,label:"Depth (keel)",postfix:null},"environment.depth.belowSurface":{conversion:null,label:"Depth (surface)",postfix:null},"navigation.courseOverGroundMagnetic":{conversion:"degrees",label:"COG (M)",postfix:"\xb0"},"environment.water.temperature":{conversion:"temperature",label:"Water",postfix:"\xb0C"},"environment.outside.temperature":{conversion:"temperature",label:"Outside",postfix:"\xb0C"},"environment.wind.directionTrue":{conversion:"degrees",label:"Wind direction (T)",postfix:"\xb0"},"environment.wind.directionMagnetic":{conversion:"degrees",label:"Wind direction (M)",postfix:"\xb0"},"environment.wind.angleApparent":{conversion:"degrees",label:"Wind angle (A)",postfix:"\xb0"},"environment.wind.speedApparent":{conversion:"knots",label:"Wind speed (A)",postfix:null},"environment.wind.speedTrue":{conversion:"knots",label:"Wind speed (T)",postfix:null},"environment.wind.angleTrueGround":{conversion:"degrees",label:"Wind angle/ground (T)",postfix:"\xb0"},"environment.wind.angleTrueWater":{conversion:"degrees",label:"Wind angle/water (T)",postfix:"\xb0"},"environment.wind.speedOverGround":{conversion:"knots",label:"SOG",postfix:null},"navigation.courseOverGroundTrue":{conversion:"degrees",label:"COG (T)",postfix:"\xb0"},"navigation.headingMagnetic":{conversion:"degrees",label:"Heading (M)",postfix:"\xb0"},"navigation.speedOverGround":{conversion:"knots",label:"SOG",postfix:null},"navigation.speedThroughWater":{conversion:"knots",label:"Speed",postfix:null},"navigation.position":{conversion:null,label:"Position",postfix:null}};function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var w,b,E={refresh:function(){var e=Object(p.a)(m().mark(function e(t){var r;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http",r="".concat("http","://").concat("192.168.0.100",":").concat(3e3,"/_essense-instrument/api/v1/state/").concat(t),e.next=4,y.a.get(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Object.keys(e),n={};return r.forEach(function(r){var o,a=e[r];if(""!==t&&(r="".concat(t,".").concat(r)),!a||"object"!==typeof a||(o=a)&&"object"===typeof o&&o.hasOwnProperty("value"))n[r]=a;else{var i=x(a);Object.keys(i).forEach(function(e){n["".concat(r,".").concat(e)]=i[e]})}}),n}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new Promise(function(r){return setTimeout(function(){return r(t)},e)})}function k(){k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},m(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}!function(e){e.APPARENT="apparent",e.TRUE="true"}(w||(w={})),function(e){e.WIND="wind",e.SAILSTEER="sailsteer",e.GRID1="grid_1",e.GRID2="grid_2",e.GRID4="grid_4",e.GRID6="grid_6",e.FREEBOARD="freeboard"}(b||(b={}));var T,S={connected:!1,display:b.SAILSTEER,windType:w.TRUE,widgets:["navigation.position","navigation.speedThroughWater","navigation.headingMagnetic","navigation.courseOverGroundTrue","navigation.speedOverGround","navigation.courseOverGroundTrue","navigation.speedOverGround"]};!function(e){e.RESET="@@ui/RESET",e.SET_WIND_TYPE="@@ui/SET_WIND_TYPE",e.SET_DISPLAY="@@ui/SET_DISPLAY",e.SET_WIDGETS="@@ui/SET_WIDGETS",e.REFRESH="@@ui/REFRESH",e.SET_CONNECTED="@@ui/SET_CONNECTED"}(T||(T={}));var L=function(e){return{type:T.SET_WIND_TYPE,payload:e}},N=function(e){return{type:T.SET_DISPLAY,payload:e}},j=function(e){return{type:T.SET_WIDGETS,payload:e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"port";return{type:T.REFRESH,payload:e}},R=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:T.SET_CONNECTED,payload:e}},G={refresh:k().mark(function e(t){var r,n,o;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,e.prev=1,e.next=4,Object(h.a)(E.refresh,r);case 4:return n=e.sent,o=n.data,e.next=8,Object(h.b)(N(o.display||"sailsteer"));case 8:return e.next=10,Object(h.b)(L(o.windType||"apparent"));case 10:return e.next=12,Object(h.b)(j(o.widgets||[]));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("[UISagas/refresh] error: ".concat(e.t0.message));case 17:return e.next=19,O(5e3);case 19:return e.next=21,Object(h.b)(_(r));case 21:case"end":return e.stop()}},e,null,[[1,14]])})};function F(){F=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},m(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var D=F().mark(A);function A(){return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(T.REFRESH,G.refresh);case 2:case"end":return e.stop()}},D)}var P=r(50),I=r(112);function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return T()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},m(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var C,M={fetched:!1,fetching:!1,data:{}};!function(e){e.RESET="@@signalk/RESET",e.SET_PATH="@@signalk/SET_PATH",e.HYDRATE="@@signalk/HYDRATE",e.NOOP="@@signalk/NOOP"}(C||(C={}));function Y(e,t,r){try{console.log("[signalk/subscribe] unsubscribing"),t.removeListener("delta"),t.unsubscribe()}catch(n){console.log("[signalk/subscribe] error unsubscribing")}t.on("delta",function(t){t.updates.forEach(function(t){var r=t.timestamp,n=t.values,o=I.DateTime.fromISO(r);n.forEach(function(t){var r,n;e((r=o,n=t,function(){var e=Object(p.a)(W().mark(function e(t,o,a){return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I.DateTime.local().diff(r,"seconds").as("seconds"),e.abrupt("return",t({type:C.SET_PATH,payload:n}));case 3:case"end":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}()))})})}),console.log("[signalk/subscribe] subscribing",r),Array.isArray(r)&&0!==r.length?t.subscribe({context:"vessels.self",subscribe:r.map(function(e){return{path:e}})}):t.subscribe({context:"vessels.self",subscribe:[{path:"*"}]})}var H={ui:S,signalk:M},B=Object(u.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case T.RESET:return Object(d.a)({},S);case T.SET_WIDGETS:return Object(d.a)({},e,{widgets:n});case T.SET_DISPLAY:return Object(d.a)({},e,{display:n});case T.SET_WIND_TYPE:return Object(d.a)({},e,{windType:"true"===n?w.TRUE:w.APPARENT});case T.SET_CONNECTED:return Object(d.a)({},e,{connected:n});default:return Object(d.a)({},e)}},signalk:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.payload;switch(r){case C.RESET:return Object(d.a)({},M);case C.HYDRATE:return Object(d.a)({},e,{data:Object(d.a)({},n)});case C.SET_PATH:return Object(d.a)({},e,{data:Object(d.a)({},e.data,Object(P.a)({},n.path,n.value))});default:return Object(d.a)({},e)}}});r(302);var U=r(27),X=r(28),z=r(30),K=r(29),J=r(18),V=(r(303),r(51)),Z=r.n(V),q=r(3);r(345),r(346);function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(J.a)(e);if(t){var o=Object(J.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(K.a)(this,r)}}var $=function(e){Object(z.a)(r,e);var t=Q(r);function r(){return Object(U.a)(this,r),t.apply(this,arguments)}return Object(X.a)(r,[{key:"convert",value:function(e,t){var r=t;switch(e){case"percentage":return(100*r).toFixed(1);case"knots":return(1.94384449*r).toFixed(1);case"temperature":return(r-272.15).toFixed(1);case"degrees":return(180*r/Math.PI).toFixed(1);default:return r.toFixed(1)}}},{key:"renderPosition",value:function(){var e=this.props,t=e.value,r=e.label;return o.a.createElement("div",{className:"widget position"},o.a.createElement("h1",null,this.ddToDms(t.longitude,!0),o.a.createElement("br",null),this.ddToDms(t.latitude)),o.a.createElement("h2",null,r))}},{key:"render",value:function(){var e="widget",t="--",r=this.props,n=r.postfix,a=r.label,i=r.conversion,c=r.value,s=r.position;return"object"===typeof c&&Object.keys(c).includes("latitude")?this.renderPosition():(e+="left"===s||"right"===s?" ".concat(s):" line-height","number"!==typeof c||isNaN(c)||-9999===c||(t=c.toFixed(1)),"number"===typeof c&&"string"===typeof i&&(t=this.convert(i,c)),o.a.createElement("div",{className:e},o.a.createElement("h1",null,t,n||""),o.a.createElement("h2",null,a||"")))}},{key:"ddToDms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(isNaN(e))return"--";var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=String(e);if(e<10&&(r="0".concat(e)),t>0&&!r.includes(".")){for(var n="";n.length<t;)n+="0";r+=".".concat(n)}return r},n="",o=Math.round(e),a=Math.abs(60*(e-o)),i=Math.floor(a),c=60*(a-i);return o=Math.abs(o),60===c&&(i+=1,c=0),60===i&&(o+=1,i=0),n=!0===t?e<0?"W":"E":e<0?"S":"N","".concat(r(o),"\xb0 ").concat(r(i),"' ").concat(r(parseFloat(c.toFixed(1)),1),'" ').concat(n)}}]),r}(o.a.Component),ee=Object(i.b)(function(e,t){return Object(d.a)({},t)},function(e){return{}})($);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(J.a)(e);if(t){var o=Object(J.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(K.a)(this,r)}}var re=0,ne=function(e){Object(z.a)(r,e);var t=te(r);function r(){return Object(U.a)(this,r),t.apply(this,arguments)}return Object(X.a)(r,[{key:"renderTack",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"green";if(isNaN(t))return null;var n=t;if(t<-90||t>90)return null;"port"===e&&(n=t-45),"starboard"===e&&(n=t+45);var a=this.props,i=a.width,c=a.height;return o.a.createElement(q.b,{rotation:n,offsetX:i/2,offsetY:c/2,x:i/2,y:c/2},o.a.createElement(q.d,{x:i/2,y:55,stroke:r,strokeWidth:8,points:[0,0,0,c/2-55]}))}},{key:"renderCenter",value:function(e){var t="--";isNaN(e)||(t=this.msToKnots(e).toFixed(1));var r=this.props,n=r.width,a=r.height;return o.a.createElement(q.b,null,o.a.createElement(q.d,{x:n/2,y:55,stroke:"#ffffff80",strokeWidth:1,dash:[1,5],points:[0,0,0,a/2-55]}),o.a.createElement(q.d,{x:n/2,y:a/2,stroke:"#ffffff80",strokeWidth:1,dash:[1,5],points:[-a/2+55,0,a/2-55,0]}),o.a.createElement(q.d,{x:n/2,y:100,stroke:"#999999",strokeWidth:4,bezier:!0,closed:!0,points:[0,0,60,70,100,a-200,0,a-200,-100,a-200,-60,70,0,0]}),o.a.createElement(q.e,{width:90,height:35,x:n/2-45,y:a/2+30,stroke:"orange",strokeWidth:1,dash:[1,2],cornerRadius:5}),o.a.createElement(q.g,{width:90,height:35,x:n/2-45,y:a/2+30,lineHeight:2,text:"".concat(t," kts"),align:"center",fill:"white",fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:18}))}},{key:"renderCircles",value:function(e){for(var t=this.props,r=t.width,n=t.height,a=n/2-10,i=a-20,c=i-5,s=c-20,u=[],l=[],f=1,h=0;h<=360;h+=10)3===f&&(f=0),u.push(o.a.createElement(q.e,{key:h,x:r/2,y:n/2,points:[1===f?10.5:20.5,n/2],width:1,height:n/2-(1===f?10:20),stroke:1===f?"white":"#666666",rotation:h,offsetX:.5,offsetY:n/2-(1===f?10:20)})),1===f&&h<360&&l.push(o.a.createElement(q.g,{key:h,x:r/2,y:n/2,width:40,height:10,fill:"black",rotation:h,offsetX:10,offsetY:n/2-40,text:this.compassDegrees(h),fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:13})),f+=1;return o.a.createElement(q.b,{rotation:-e,offsetX:r/2,offsetY:n/2,x:r/2,y:n/2},o.a.createElement(q.a,{x:r/2,y:n/2,radius:a,fill:"#444444"}),u,o.a.createElement(q.a,{x:r/2,y:n/2,radius:i,fill:"black"}),o.a.createElement(q.a,{x:r/2,y:n/2,radius:c,fill:"white"}),o.a.createElement(q.a,{x:r/2,y:n/2,radius:s,fill:"black"}),l)}},{key:"renderTWA",value:function(e){if(null===e||isNaN(e))return null;var t=this.props,r=t.width,n=t.height,a=e||0;return o.a.createElement(q.b,{rotation:a,offsetX:r/2,offsetY:n/2,x:r/2,y:n/2},o.a.createElement(q.h,{x:r/2,y:40,radius:35,angle:60,fill:"#00FF00CC",rotation:60}),o.a.createElement(q.g,{x:r/2+5,y:70,width:40,height:40,fill:"white",text:"T",fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:18,rotation:180}))}},{key:"renderAWA",value:function(e){if(null===e||isNaN(e))return null;var t=this.props,r=t.width,n=t.height,a=e||0;return o.a.createElement(q.b,{rotation:a,offsetX:r/2,offsetY:n/2,x:r/2,y:n/2},o.a.createElement(q.h,{x:r/2,y:40,radius:35,angle:60,fill:"#0000FFCC",rotation:-120}),o.a.createElement(q.g,{x:r/2-6,y:10,width:40,height:40,fill:"white",text:"A",fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:18}))}},{key:"renderCOG",value:function(e){if(null===e||isNaN(e))return null;var t=this.props,r=t.width,n=t.height,a=-0+(e||0);return o.a.createElement(q.b,{rotation:a,offsetX:r/2,offsetY:n/2,x:r/2,y:n/2},o.a.createElement(q.d,{x:r/2,y:n/2,strokeWidth:6,stroke:"red",points:[0,-n/2+55,0,-n/2+35]}))}},{key:"renderBTW",value:function(e){if(null===e||isNaN(e))return null;var t=this.props,r=t.width,n=t.height,a=e||0;return o.a.createElement(q.b,{rotation:-a,offsetX:r/2,offsetY:n/2,x:r/2,y:n/2},o.a.createElement(q.a,{x:r/2,y:55,strokeWidth:2,stroke:"black",fill:"yellow",radius:10}))}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.width,n=e.widgets,a=this.props.paths;Object.keys(a).length>0&&re<10&&(console.log("paths",re,a),re+=1);var i=a["navigation.courseOverGroundTrue"],c=a["environment.wind.angleApparent"],s=a["environment.wind.angleTrueWater"],u=null;if(null===(u="number"===typeof a["navigation.headingMagnetic"]?a["navigation.headingMagnetic"]:"number"===typeof a["navigation.headingTrue"]?a["navigation.headingTrue"]:"number"===typeof a["navigation.courseOverGroundMagnetic"]?a["navigation.courseOverGroundMagnetic"]:null))return o.a.createElement("section",{className:"sailsteer centered"},o.a.createElement("h3",{className:"notification"},"No heading..."));u=this.radToDegrees(u);var l=a["environment.depth.belowTransducer"];return"number"!==typeof l||isNaN(l)?l=-9999:l-=1,o.a.createElement("section",{className:"sailsteer"},o.a.createElement(q.f,{width:r,height:t},o.a.createElement(q.c,null,this.renderCircles(u),this.renderCenter(a["navigation.speedThroughWater"]),this.renderTack("port",this.radToDegrees(c),"#FF000080"),this.renderTack("starboard",this.radToDegrees(c),"#00FF0080"),null!==s&&this.renderTWA(this.radToDegrees(s)),null!==c&&this.renderAWA(this.radToDegrees(c)),null!==i&&this.renderCOG(this.radToDegrees(i)),!1)),!0===n&&o.a.createElement("div",{className:"widgets-left"},o.a.createElement(ee,{position:"left",label:"COG",value:a["navigation.courseOverGroundTrue"],conversion:"degrees",postfix:"\xb0"}),o.a.createElement(ee,{position:"left",label:"SOG",value:a["navigation.speedOverGround"],conversion:"knots"}),o.a.createElement(ee,{position:"left",label:"Speed",value:a["navigation.speedThroughWater"],conversion:"knots"}),o.a.createElement(ee,{position:"left",label:"VMG",value:a["performance.velocityMadeGood"],conversion:"knots"})),!0===n&&o.a.createElement("div",{className:"widgets-right"},o.a.createElement(ee,{position:"right",label:"Depth",value:l}),o.a.createElement(ee,{position:"right",label:"Windspd (A)",value:a["environment.wind.speedApparent"],conversion:"knots"}),o.a.createElement(ee,{position:"right",label:"Windspd (T)",value:a["environment.wind.speedTrue"],conversion:"knots"}),o.a.createElement(ee,{position:"right",label:"Current",value:a["environment.current"],conversion:"degrees",postfix:"\xb0"})))}},{key:"msToKnots",value:function(e){return 1.94384449*e}},{key:"radToDegrees",value:function(e){return 180*e/Math.PI}},{key:"compassDegrees",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0===e)return" N ";if(90===e)return" O ";if(180===e)return" Z ";if(270===e)return" W ";for(var r=String(e);r.length<t;)r="0".concat(r);return r}}]),r}(o.a.Component),oe=Object(i.b)(function(e,t){var r=e.signalk.data,n=Z()(r,["name","navigation.courseOverGroundMagnetic","navigation.courseOverGroundTrue","navigation.headingMagnetic","navigation.headingTrue","navigation.speedThroughWater","navigation.speedOverGround","navigation.position","performance.velocityMadeGood","environment.wind.speedApparent","environment.wind.angleApparent","environment.wind.speedTrue","environment.wind.angleTrueWater","environment.depth.belowTransducer","environment.current"]);return Object(d.a)({},t,{paths:n})},function(e){return{}})(ne);r(347);function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(J.a)(e);if(t){var o=Object(J.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(K.a)(this,r)}}var ie=function(e){Object(z.a)(r,e);var t=ae(r);function r(){return Object(U.a)(this,r),t.apply(this,arguments)}return Object(X.a)(r,[{key:"renderCenter",value:function(e,t){var r="--";isNaN(e)||(r=this.msToKnots(e).toFixed(1));var n=this.props,a=n.width,i=n.height,c=n.type;return o.a.createElement(q.b,null,o.a.createElement(q.d,{x:a/2,y:55,stroke:"#ffffff80",strokeWidth:1,dash:[1,5],points:[0,0,0,i/2-55]}),o.a.createElement(q.d,{x:a/2,y:100,stroke:"#999999",strokeWidth:4,bezier:!0,closed:!0,points:[0,0,60,70,100,i-200,0,i-200,-100,i-200,-60,70,0,0]}),o.a.createElement(q.e,{width:90,height:35,x:a/2-45,y:i/2+5,stroke:"orange",strokeWidth:1,dash:[1,2],cornerRadius:5}),o.a.createElement(q.g,{width:90,height:35,x:a/2-45,y:i/2+5,lineHeight:2.3,text:"".concat(t>=0?"+":"").concat(this.radToDegrees(t).toFixed(1),"\xb0"),align:"center",fill:"white",fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:16}),o.a.createElement(q.e,{width:90,height:35,x:a/2-45,y:i/2+50,stroke:"orange",strokeWidth:1,dash:[1,2],cornerRadius:5}),o.a.createElement(q.g,{width:90,height:35,x:a/2-45,y:i/2+50,lineHeight:2.3,text:"".concat(r," kts"),align:"center",fill:"white",fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:16}),o.a.createElement(q.g,{width:90,height:35,x:a/2-45,y:i/2+85,lineHeight:2,text:c,align:"center",fill:"white",fontStyle:"normal",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:14}),o.a.createElement(q.d,{x:a/2,y:i/2,stroke:"magenta",strokeWidth:3,rotation:-180+this.radToDegrees(t),shadowColor:"black",shadowBlur:10,shadowOpacity:1,points:[0,i/2-45,0,0]}))}},{key:"renderCircles",value:function(){for(var e=this.props,t=e.width,r=e.height,n=r/2-10,a=n-20,i=a-5,c=i-20,s=[],u=[],l=1,f=0;f<=360;f+=10){3===l&&(l=0);var h="#666666";(1===l||f>=20&&f<=70||f>=290&&f<=340)&&(h="white"),s.push(o.a.createElement(q.e,{key:f,x:t/2,y:r/2,points:[1===l?10.5:20.5,r/2],width:1,height:r/2-(1===l?10:20),stroke:h,rotation:f,offsetX:.5,offsetY:r/2-(1===l?10:20)})),1===l&&f<360&&u.push(o.a.createElement(q.g,{key:f,x:t/2,y:r/2,width:40,height:10,fill:"black",rotation:f,offsetX:10,offsetY:r/2-40,text:this.compassDegrees(f),fontStyle:"bold",fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",fontSize:13})),l+=1}return o.a.createElement(q.b,{rotation:-0,offsetX:t/2,offsetY:r/2,x:t/2,y:r/2},o.a.createElement(q.a,{x:t/2,y:r/2,radius:n,fill:"#444444"}),o.a.createElement(q.h,{x:t/2,y:r/2,radius:n,angle:50,fill:"red",rotation:-70}),o.a.createElement(q.h,{x:t/2,y:r/2,radius:n,angle:50,fill:"green",rotation:-160}),s,o.a.createElement(q.a,{x:t/2,y:r/2,radius:a,fill:"black"}),o.a.createElement(q.a,{x:t/2,y:r/2,radius:i,fill:"white"}),o.a.createElement(q.a,{x:t/2,y:r/2,radius:c,fill:"black"}),u)}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.width,n=e.type,a=this.props.paths,i=0,c=0;return n===w.APPARENT?(i=a["environment.wind.angleApparent"],c=a["environment.wind.speedApparent"]):(i=a["environment.wind.angleTrueWater"],c=a["environment.wind.speedTrue"]),isNaN(i)&&(i=0),isNaN(c)&&(c=0),o.a.createElement("section",{className:"wind"},o.a.createElement(q.f,{width:r,height:t},o.a.createElement(q.c,null,this.renderCircles(),this.renderCenter(c,i))))}},{key:"msToKnots",value:function(e){return 1.94384449*e}},{key:"radToDegrees",value:function(e){return 180*e/Math.PI}},{key:"compassDegrees",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(0===e||180===e)return"";var r=String(e);for(e>180&&(r=String(180-(e-180)));r.length<t;)r="0".concat(r);return r}}]),r}(o.a.Component),ce=Object(i.b)(function(e,t){var r=e.signalk.data,n=Z()(r,["environment.wind.speedApparent","environment.wind.angleApparent","environment.wind.speedTrue","environment.wind.angleTrueWater"]);return Object(d.a)({},t,{paths:n})},function(e){return{}})(ie);r(348);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(J.a)(e);if(t){var o=Object(J.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(K.a)(this,r)}}var ue=function(e){Object(z.a)(r,e);var t=se(r);function r(){return Object(U.a)(this,r),t.apply(this,arguments)}return Object(X.a)(r,[{key:"render",value:function(){var e=this.props,t=e.layout,r=e.widgets,n=e.paths,a=e.configs,i=null,c=r.map(function(e){var t=n[e],r=a[e];return"object"===typeof r&&r?o.a.createElement(ee,{key:e,conversion:r.conversion,postfix:r.postfix,label:r.label,value:t}):null});switch(t){case b.GRID2:i=o.a.createElement("div",{className:"rows"},o.a.createElement("div",{className:"row double"},o.a.createElement("div",{className:"col xs-6"},c[0]),o.a.createElement("div",{className:"col xs-6"},c[1])));break;case b.GRID4:i=o.a.createElement("div",{className:"rows"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col xs-6"},c[0]),o.a.createElement("div",{className:"col xs-6"},c[1])),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col xs-6"},c[2]),o.a.createElement("div",{className:"col xs-6"},c[3])));break;case b.GRID6:i=o.a.createElement("div",{className:"rows"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col xs-4"},c[0]),o.a.createElement("div",{className:"col xs-4"},c[1]),o.a.createElement("div",{className:"col xs-4"},c[2])),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col xs-4"},c[3]),o.a.createElement("div",{className:"col xs-4"},c[4]),o.a.createElement("div",{className:"col xs-4"},c[5])));break;default:i=o.a.createElement("div",{className:"rows"},o.a.createElement("div",{className:"row double"},o.a.createElement("div",{className:"col xs-12"},c[0])))}return o.a.createElement("section",{className:"grid"},i)}}]),r}(o.a.Component),le=Object(i.b)(function(e,t){var r=e.signalk,n=e.ui,o=r.data,a=Z()(o,n.widgets);return Object(d.a)({},t,{layout:n.display,widgets:n.widgets,configs:g,paths:a})},function(e){return{}})(ue),fe=(r(349),function(){return o.a.createElement("section",{className:"freeboard"},o.a.createElement("div",{className:"freeboard--outer"},o.a.createElement("iframe",{title:"freeboard",src:"http://192.168.194.90:3000/@signalk/freeboard-sk/?northup=1&movemap=1"})))});function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(J.a)(e);if(t){var o=Object(J.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(K.a)(this,r)}}var de=function(e){Object(z.a)(r,e);var t=he(r);function r(){return Object(U.a)(this,r),t.apply(this,arguments)}return Object(X.a)(r,[{key:"render",value:function(){var e=window,t=e.innerHeight,r=e.innerWidth,n=this.props,a=n.display,i=n.type;if(!1===n.connected)return o.a.createElement("section",{className:"sailsteer centered"},o.a.createElement("h3",{className:"notification"},"Connecting..."));switch(a){case b.WIND:return o.a.createElement(ce,{type:i,width:r,height:t});case b.SAILSTEER:return o.a.createElement(oe,{widgets:!0,width:r,height:t});case b.GRID1:case b.GRID2:case b.GRID4:case b.GRID6:return o.a.createElement(le,{width:r,height:t});case b.FREEBOARD:return o.a.createElement(fe,{width:r,height:t});default:return o.a.createElement("p",{style:{textAlign:"center"}},o.a.createElement("strong",{style:{color:"white"}},"Loading..."))}}}]),r}(o.a.Component),pe=Object(i.b)(function(e,t){var r=e.ui;return Object(d.a)({},t,{display:r.display,type:r.windType,widgets:r.widgets,connected:r.connected})},function(e){return{}})(de),ve=new s.a({hostname:"192.168.0.100",port:3e3,useAuthentication:!1,useTLS:!1,reconnect:!0,autoConnect:!0,notifications:!1}),ye=function(e){var t=Object(l.a)(),r=Object(u.d)(B,H,Object(u.a)(t,f.a.withExtraArgument(e)));return t.run(A),r}(ve);ye.dispatch(_("starboard")),ve.on("connect",function(){console.log("client.connect"),ve.authenticate("xmiles","xmiles2020"),ve.once("authenticated",function(e){console.log("client.authenticate",e),ye.dispatch(R(!0)),ye.dispatch(function(){var e=Object(p.a)(W().mark(function e(t,r,n){var o,a,i;return W().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.API();case 3:return o=e.sent,e.next=6,o.self();case 6:return a=e.sent,i=x(a),Y(t,n),e.abrupt("return",t({type:C.HYDRATE,payload:i}));case 12:e.prev=12,e.t0=e.catch(0),console.log("[signalk/hydrateAction] error: ".concat(e.t0.message));case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,r,n){return e.apply(this,arguments)}}())})}),ve.on("disconnect",function(){console.log("client.disconnect"),ye.dispatch(R(!1))});var ge=o.a.createElement(i.a,{store:ye},o.a.createElement(pe,null)),me=document.getElementById("root");Object(a.createRoot)(me).render(ge)}},[[183,1,2]]]);
//# sourceMappingURL=main.297eb0cc.chunk.js.map