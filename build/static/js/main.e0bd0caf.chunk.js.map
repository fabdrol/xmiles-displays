{"version":3,"sources":["config.ts","lib/api.ts","types.ts","lib/utils.ts","data/ducks/ui.ts","data/sagas.ts","data/ducks/signalk.ts","data/ducks/index.ts","gui/widget/widget.tsx","gui/widget/index.ts","gui/sailsteer/sailsteer.tsx","gui/sailsteer/index.ts","gui/wind/wind.tsx","gui/wind/index.ts","gui/grid/grid.tsx","gui/grid/index.ts","gui/freeboard/index.tsx","gui/app/app.tsx","gui/app/index.ts","index.tsx","data/configure.ts"],"names":["src_config","tanks.fuel.0.currentLevel","conversion","label","postfix","navigation.headingTrue","environment.depth.belowTransducer","environment.depth.belowKeel","environment.depth.belowSurface","navigation.courseOverGroundMagnetic","environment.water.temperature","environment.outside.temperature","environment.wind.directionTrue","environment.wind.directionMagnetic","environment.wind.angleApparent","environment.wind.speedApparent","environment.wind.speedTrue","environment.wind.angleTrueGround","environment.wind.angleTrueWater","environment.wind.speedOverGround","navigation.courseOverGroundTrue","navigation.headingMagnetic","navigation.speedOverGround","navigation.speedThroughWater","navigation.position","EWindTypes","EDisplayTypes","API","refresh","_refresh","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","display","url","wrap","_context","prev","next","concat","axios","get","abrupt","sent","stop","_x","apply","this","arguments","flatten","tree","prefix","length","undefined","keys","output","forEach","key","mixed","value","hasOwnProperty","child","subkey","sleep","timeout","result","Promise","resolve","setTimeout","ActionTypes","initialState","connected","SAILSTEER","windType","TRUE","widgets","setWindTypeAction","payload","type","SET_WIND_TYPE","setDisplayAction","SET_DISPLAY","setWidgetsAction","SET_WIDGETS","REFRESH","setConnected","SET_CONNECTED","UISagas","ui_regeneratorRuntime","refreshSaga","action","_yield$call","data","call","put","t0","console","log","message","run","sagas_regeneratorRuntime","takeLatest","UIActionTypes","_marked","fetched","fetching","subscribe","dispatch","signalk","paths","removeListener","unsubscribe","err","on","delta","updates","update","timestamp","values","time","DateTime","fromISO","_ref2","signalk_regeneratorRuntime","_callee2","getState","_context2","local","diff","as","SET_PATH","_x4","_x5","_x6","Array","isArray","context","map","path","ui","uiInitialState","skInitialState","combineReducers","state","RESET","objectSpread","APPARENT","HYDRATE","defineProperty","Widget","val","toFixed","Math","PI","_this$props","props","react_default","a","createElement","className","ddToDms","longitude","latitude","classes","metric","_this$props2","position","includes","renderPosition","isNaN","convert","deg","lng","z","n","precision","str","String","decs","dir","d","round","minfloat","abs","m","floor","secfloat","parseFloat","React","Component","connect","ownProps","logged","SailSteer","side","awa","colour","tack","width","height","ReactKonva","rotation","offsetX","offsetY","x","y","stroke","strokeWidth","points","speedValue","msToKnots","dash","bezier","closed","cornerRadius","lineHeight","text","align","fill","fontStyle","fontFamily","fontSize","heading","_this$props3","outerOuterRadius","outerInnerRadius","innerOuterRadius","innerInnerRadius","rects","texts","count","i","push","compassDegrees","radius","_this$props4","twa","angle","_this$props5","_this$props6","calculated","_this$props7","btw","_this$props8","cog","radToDegrees","depth","renderCircles","renderCenter","renderTack","renderTWA","renderAWA","renderCOG","gui_widget","ms","rad","len","_ref","pick","Wind","speed","shadowColor","shadowBlur","shadowOpacity","layout","configs","content","blocks","config","GRID2","GRID4","GRID6","Grid","Freeboard","title","src","App","_window","window","innerHeight","innerWidth","WIND","gui_wind","gui_sailsteer","GRID1","gui_grid","FREEBOARD","gui_freeboard","style","textAlign","color","client","Client","hostname","port","useAuthentication","useTLS","SK_PORT","reconnect","autoConnect","notifications","store","sagaMiddleware","createSagaMiddleware","createStore","rootReducer","applyMiddleware","thunk","withExtraArgument","sagas","configureStore","authenticate","once","api","self","_x2","_x3","Root","es","gui_app","container","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.e0bd0caf.chunk.js","sourcesContent":["export const SK_HOST: string = '192.168.194.90'\nexport const SK_PORT: number = 3000\nexport const SK_USERNAME: string = 'xmiles'\nexport const SK_PASSWORD: string = 'xmiles2020'\nexport const SK_AUTH: boolean = true\nexport const IDENTITY: string = 'starboard'\n\n/*\n  navigation.headingTrue\n  environment.depth.belowTransducer\n  environment.depth.belowKeel\n  environment.depth.belowSurface\n  navigation.courseOverGroundMagnetic\n  environment.water.temperature\n  environment.outside.temperature\n  environment.wind.directionTrue\n  environment.wind.directionMagnetic\n  environment.wind.angleApparent\n  environment.wind.speedApparent\n  environment.wind.speedTrue\n  environment.wind.angleTrueGround\n  environment.wind.angleTrueWater\n  environment.wind.speedOverGround\n*/\n\nexport default {\n  'tanks.fuel.0.currentLevel': {\n    conversion: 'percentage',\n    label: 'Tank %',\n    postfix: ''\n  },\n\n  'navigation.headingTrue': {\n    conversion: 'degrees',\n    label: 'Heading (T)',\n    postfix: '°'\n  },\n  \n  'environment.depth.belowTransducer': {\n    conversion: null,\n    label: 'Depth (sonar)',\n    postfix: null\n  },\n  \n  'environment.depth.belowKeel': {\n    conversion: null,\n    label: 'Depth (keel)',\n    postfix: null\n  },\n  \n  'environment.depth.belowSurface': {\n    conversion: null,\n    label: 'Depth (surface)',\n    postfix: null\n  },\n  \n  'navigation.courseOverGroundMagnetic': {\n    conversion: 'degrees',\n    label: 'COG (M)',\n    postfix: '°'\n  },\n  \n  'environment.water.temperature': {\n    conversion: 'temperature',\n    label: 'Water',\n    postfix: '°C'\n  },\n  \n  'environment.outside.temperature': {\n    conversion: 'temperature',\n    label: 'Outside',\n    postfix: '°C'\n  },\n  \n  'environment.wind.directionTrue': {\n    conversion: 'degrees',\n    label: 'Wind direction (T)',\n    postfix: '°'\n  },\n  \n  'environment.wind.directionMagnetic': {\n    conversion: 'degrees',\n    label: 'Wind direction (M)',\n    postfix: '°'\n  },\n  \n  'environment.wind.angleApparent': {\n    conversion: 'degrees',\n    label: 'Wind angle (A)',\n    postfix: '°'\n  },\n  \n  'environment.wind.speedApparent': {\n    conversion: 'knots',\n    label: 'Wind speed (A)',\n    postfix: null\n  },\n  \n  'environment.wind.speedTrue': {\n    conversion: 'knots',\n    label: 'Wind speed (T)',\n    postfix: null\n  },\n  \n  'environment.wind.angleTrueGround': {\n    conversion: 'degrees',\n    label: 'Wind angle/ground (T)',\n    postfix: '°'\n  },\n  \n  'environment.wind.angleTrueWater': {\n    conversion: 'degrees',\n    label: 'Wind angle/water (T)',\n    postfix: '°'\n  },\n  \n  'environment.wind.speedOverGround': {\n    conversion: 'knots',\n    label: 'SOG',\n    postfix: null\n  },\n\n  'navigation.courseOverGroundTrue': {\n    conversion: 'degrees',\n    label: 'COG (T)',\n    postfix: '°'\n  },\n  'navigation.headingMagnetic': {\n    conversion: 'degrees',\n    label: 'Heading (M)',\n    postfix: '°'\n  },\n  'navigation.speedOverGround': {\n    conversion: 'knots',\n    label: 'SOG',\n    postfix: null\n  },\n  'navigation.speedThroughWater': {\n    conversion: 'knots',\n    label: 'Speed',\n    postfix: null\n  },\n  'navigation.position': {\n    conversion: null,\n    label: 'Position',\n    postfix: null\n  }\n}\n","import axios from 'axios'\nimport {\n  SK_HOST,\n  SK_PORT\n} from '../config'\n\nconst API = {\n  async refresh (display:string) {\n    const schema = SK_PORT === 443 ? 'https' : 'http'\n    const url = `${schema}://${SK_HOST}:${SK_PORT}/_essense-instrument/api/v1/state/${display}`\n    return await axios.get(url)\n  }\n}\n\nexport default API\n","export enum EWindTypes {\n  APPARENT = 'apparent',\n  TRUE = 'true'\n}\n\nexport enum EDisplayTypes {\n  WIND = 'wind',\n  SAILSTEER = 'sailsteer',\n  GRID1 = 'grid_1',\n  GRID2 = 'grid_2',\n  GRID4 = 'grid_4',\n  GRID6 = 'grid_6',\n  FREEBOARD = 'freeboard',\n}\n\nexport interface IWidgetConfig {\n  label: string,\n  conversion?: string,\n  postfix?: string\n}\n\nexport interface IApplicationState {\n  ui: IUIDuckState,\n  signalk: ISignalKDuckState\n}\n\nexport interface IAppPropTypes {\n  connected: boolean,\n  display: EDisplayTypes,\n  type: EWindTypes,\n  widgets: string[]\n}\n\nexport interface ISailSteerPropTypes {\n  paths: {\n    [path:string]: number|{[key:string]:number}\n  },\n  width: number,\n  height: number,\n  widgets: boolean\n}\n\nexport interface IWindPropTypes {\n  paths: {\n    [path:string]: number|{[key:string]:number}\n  },\n  width: number,\n  height: number,\n  type: EWindTypes\n}\n\nexport interface IGridPropTypes {\n  width: number,\n  height: number,\n  widgets: string[],\n  layout: EDisplayTypes,\n  configs: {\n    [path:string]: IWidgetConfig\n  },\n  paths: {\n    [path:string]: number|{[key:string]:number}\n  }\n}\n\nexport interface IUIDuckState {\n  connected: boolean,\n  display: EDisplayTypes,\n  windType: EWindTypes,\n  widgets: string[]\n}\n\nexport interface ISignalKDuckState {\n  fetched: boolean,\n  fetching: boolean,\n  data: {\n    [path: string]: ISignalKLeaf\n  }\n}\n\nexport interface ISignalKDeltaValue {\n  path: string,\n  value: number|{[key:string]:number}\n}\n\nexport interface ISignalKDeltaUpdate {\n  '$source'?: string,\n  source?: any,\n  timestamp: string,\n  values: ISignalKDeltaValue[]\n}\n\nexport interface ISignalKDelta {\n  context?: string,\n  updates: ISignalKDeltaUpdate[]\n}\n\nexport interface ISignalKLeaf {\n  value: number|{[key:string]:number},\n  timestamp: string,\n  meta: ISignalKMeta,\n  '$source'?: string,\n  source?: any\n}\n\nexport interface ISignalKMeta {\n  units?: string,\n  description?: string\n}\n\nexport interface IWidgetPropTypes {\n  position: string,\n  value: number|{[key:string]:number},\n  label?: string,\n  conversion?: string,\n  postfix?: string\n}\n","export function isLeaf (mixed:any):boolean {\n  if (mixed && typeof mixed === 'object' && mixed.hasOwnProperty('value')) {\n    return true\n  }\n\n  return false\n}\n\nexport function flatten (tree:any, prefix:string = '') {\n  const keys:string[] = Object.keys(tree)\n  const output:any = {}\n\n  keys.forEach((key:string) => {\n    const value:any = tree[key]\n\n    if (prefix !== '') {\n      key = `${prefix}.${key}`\n    }\n\n    if (value && typeof value === 'object' && !isLeaf(value)) {\n      const child:any = flatten(value)\n      const childKeys:string[] = Object.keys(child)\n\n      childKeys.forEach((subkey:string) => {\n        output[`${key}.${subkey}`] = child[subkey]\n      })\n    } else {\n      output[key] = value\n    }\n  })\n\n  return output\n}\n\nexport function sleep (timeout:number, result:any = undefined):Promise<any> {\n  return new Promise(resolve => setTimeout(() => resolve(result), timeout))\n}\n","import { Reducer, Action, ActionCreator } from 'redux'\nimport API from '../../lib/api'\nimport { sleep } from '../../lib/utils'\n\nimport {\n  call,\n  put\n} from 'redux-saga/effects'\n\nimport {\n  IUIDuckState,\n  EWindTypes,\n  EDisplayTypes\n} from '../../types'\n\nexport const initialState:IUIDuckState = {\n  connected: false,\n  display: EDisplayTypes.SAILSTEER,\n  windType: EWindTypes.TRUE,\n  widgets: [\n    'navigation.position',\n    'navigation.speedThroughWater',\n    'navigation.headingMagnetic',\n    'navigation.courseOverGroundTrue',\n    'navigation.speedOverGround',\n    'navigation.courseOverGroundTrue',\n    'navigation.speedOverGround'\n  ]\n}\n\nexport enum ActionTypes {\n  RESET = '@@ui/RESET',\n  SET_WIND_TYPE = '@@ui/SET_WIND_TYPE',\n  SET_DISPLAY = '@@ui/SET_DISPLAY',\n  SET_WIDGETS = '@@ui/SET_WIDGETS',\n  REFRESH = '@@ui/REFRESH',\n  SET_CONNECTED = '@@ui/SET_CONNECTED'\n}\n\nexport const UIReducer: Reducer<IUIDuckState> = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action\n\n  switch (type) {\n    case ActionTypes.RESET:\n      return {\n        ...initialState\n      }\n\n    case ActionTypes.SET_WIDGETS:\n      return {\n        ...state,\n        widgets: payload\n      }\n    \n    case ActionTypes.SET_DISPLAY:\n      return {\n        ...state,\n        display: payload\n      }\n\n    case ActionTypes.SET_WIND_TYPE:\n      return {\n        ...state,\n        windType: payload === 'true' ? EWindTypes.TRUE : EWindTypes.APPARENT\n      }\n    \n    case ActionTypes.SET_CONNECTED:\n      return {\n        ...state,\n        connected: payload\n      }\n\n    default:\n      return {\n        ...state\n      }\n  }\n}\n\nexport const setWindTypeAction: ActionCreator<Action> = (payload:EWindTypes) => {\n  return {\n    type: ActionTypes.SET_WIND_TYPE,\n    payload\n  }\n}\n\nexport const setDisplayAction: ActionCreator<Action> = (payload:EDisplayTypes) => {\n  return {\n    type: ActionTypes.SET_DISPLAY,\n    payload\n  }\n}\n\nexport const setWidgetsAction: ActionCreator<Action> = (payload:string[]) => {\n  return {\n    type: ActionTypes.SET_WIDGETS,\n    payload\n  }\n}\n\nexport const refresh: ActionCreator<Action> = (payload:string = 'port') => {\n  return {\n    type: ActionTypes.REFRESH,\n    payload\n  }\n}\n\nexport const setConnected: ActionCreator<Action> = (payload:boolean = true) => {\n  return {\n    type: ActionTypes.SET_CONNECTED,\n    payload\n  }\n}\n\nexport const UISagas = {\n  refresh: function* refreshSaga (action:any):any {\n    const payload:string = action.payload\n    \n    try {\n      const { data } = yield call(API.refresh, payload)\n      yield put(setDisplayAction(data.display || 'sailsteer'))\n      yield put(setWindTypeAction(data.windType || 'apparent'))\n      yield put(setWidgetsAction(data.widgets || []))\n    } catch (err:any) {\n      console.log(`[UISagas/refresh] error: ${err.message}`)\n    }\n\n    yield sleep(5000)\n    yield put(refresh(payload))\n  }\n}","import { takeLatest } from 'redux-saga/effects'\n\nimport {\n  ActionTypes as UIActionTypes,\n  UISagas\n} from './ducks/ui'\n\nexport default function* run() {\n  yield takeLatest(UIActionTypes.REFRESH, UISagas.refresh)\n}\n","import { Reducer, Action } from 'redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { DateTime } from 'luxon'\nimport { IApplicationState, ISignalKDuckState, ISignalKDelta, ISignalKDeltaUpdate, ISignalKDeltaValue } from '../../types'\nimport { flatten } from '../../lib/utils'\n\nexport const initialState:ISignalKDuckState = {\n  fetched: false,\n  fetching: false,\n  data: {}\n}\n\nexport enum ActionTypes {\n  RESET = '@@signalk/RESET',\n  SET_PATH = '@@signalk/SET_PATH',\n  HYDRATE = '@@signalk/HYDRATE',\n  NOOP = '@@signalk/NOOP'\n}\n\nexport const SignalKReducer: Reducer<ISignalKDuckState> = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action\n\n  switch (type) {\n    case ActionTypes.RESET:\n      return {\n        ...initialState\n      }\n\n    case ActionTypes.HYDRATE:\n      return {\n        ...state,\n        data: {\n          ...payload\n        }\n      }\n\n    case ActionTypes.SET_PATH:\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          [payload.path]: payload.value\n        }\n      }\n\n    default:\n      return {\n        ...state\n      }\n  }\n}\n\nexport function hydrateAction () {\n  return async (dispatch: ThunkDispatch<IApplicationState, void, Action>, getState: () => IApplicationState, signalk:any) => {\n    try {\n      const api = await signalk.API()\n      const self = await api.self()\n      const payload = flatten(self)\n\n      // Subscribe to changes\n      subscribe(dispatch, signalk)\n      \n      return dispatch({\n        type: ActionTypes.HYDRATE,\n        payload\n      })\n    } catch (err: any) {\n      console.log(`[signalk/hydrateAction] error: ${err.message}`)\n    }\n  }\n}\n\nexport function handleValueUpdate (timestamp:DateTime, payload:ISignalKDeltaValue) {\n  return async (dispatch: ThunkDispatch<IApplicationState, void, Action>, getState: () => IApplicationState, signalk:any) => {\n    const now = DateTime.local()\n    const age = now.diff(timestamp, 'seconds').as('seconds')\n\n    /* @TODO\n    if (age > 60) {\n      return dispatch({ type: ActionTypes.NOOP })\n    }\n    // */\n\n    return dispatch({\n      type: ActionTypes.SET_PATH,\n      payload\n    })\n  }\n}\n\nexport function subscribe (dispatch: ThunkDispatch<IApplicationState, void, Action>, signalk:any, paths?:string[]):void {\n  try {\n    console.log(`[signalk/subscribe] unsubscribing`)\n    signalk.removeListener('delta')\n    signalk.unsubscribe()\n  } catch (err: any) {\n    console.log(`[signalk/subscribe] error unsubscribing`)\n  }\n  \n  signalk.on('delta', (delta:ISignalKDelta) => {\n    // console.log('[delta]', delta)\n    const { updates } = delta\n\n    updates.forEach((update:ISignalKDeltaUpdate) => {\n      const {\n        timestamp,\n        values\n      } = update\n\n      const time:DateTime = DateTime.fromISO(timestamp)\n\n      values.forEach((value:ISignalKDeltaValue) => {\n        dispatch(handleValueUpdate(time, value))\n      })\n    })\n  })\n\n  console.log(`[signalk/subscribe] subscribing`, paths)\n \n  if (!Array.isArray(paths) || paths.length === 0) {\n    signalk.subscribe({\n      context: 'vessels.self',\n      subscribe: [{ path: '*' }]\n    })\n  } else {\n    signalk.subscribe({\n      context: 'vessels.self',\n      subscribe: paths.map((path:string) => ({ path }))\n    })\n  }\n}\n","import { combineReducers, Dispatch, Action, AnyAction } from 'redux'\nimport { IApplicationState } from '../../types'\n\nimport { UIReducer, initialState as uiInitialState } from './ui'\nimport { SignalKReducer, initialState as skInitialState } from './signalk'\n\nexport const initialState:IApplicationState = {\n  ui: uiInitialState,\n  signalk: skInitialState\n}\n\nexport default combineReducers<IApplicationState>({\n  ui: UIReducer,\n  signalk: SignalKReducer\n})\n","import React from 'react'\nimport utils from 'nmea0183-utilities'\nimport { IWidgetPropTypes } from '../../types'\nimport './widget.css'\n\nexport default class Widget extends React.Component<IWidgetPropTypes> {\n  convert (conversion:string, value:any):string {\n    const val = value as number\n\n    switch (conversion) {\n      case 'percentage':\n        return (val * 100).toFixed(1)\n        \n      case 'knots': \n        return (val * 1.94384449).toFixed(1)\n\n      case 'temperature':\n        return (val - 272.15).toFixed(1)\n\n      case 'degrees':\n        return (val * 180 / Math.PI).toFixed(1)\n\n      default:\n        return val.toFixed(1)\n    }\n  }\n\n  renderPosition () {\n    const { value, label } = this.props\n\n    return (\n      <div className='widget position'>\n        <h1>\n          {this.ddToDms((value as any).longitude, true)}<br />\n          {this.ddToDms((value as any).latitude)}\n        </h1>\n        <h2>{label}</h2>\n      </div>\n    )\n  }\n\n  render () {\n    let classes = 'widget'\n    let metric = '--'\n\n    const {\n      postfix,\n      label,\n      conversion,\n      value,\n      position\n    } = this.props\n\n    if (typeof value === 'object' && Object.keys(value).includes('latitude')) {\n      return this.renderPosition()\n    }\n\n    if (position === 'left' || position === 'right') {\n      classes += ` ${position}`\n    } else {\n      classes += ' line-height'\n    }\n\n    if (typeof value === 'number' && !isNaN(value) && value !== -9999) {\n      metric = (value as number).toFixed(1)\n    }\n\n    if (typeof value === 'number' && typeof conversion === 'string') {\n      metric = this.convert(conversion, value)\n    }\n\n    return (\n      <div className={classes}>\n        <h1>{metric}{postfix || ''}</h1>\n        <h2>{label || ''}</h2>\n      </div>\n    )\n  }\n\n  private ddToDms (deg:number, lng:boolean = false):string {\n    if (isNaN(deg)) {\n      return '--'\n    }\n\n    const z = (n:number, precision:number = 0):string => {\n      let str:string = String(n)\n\n      if (n < 10) {\n        str = `0${n}`\n      }\n\n      if (precision > 0 && !str.includes('.')) {\n        let decs:string = ''\n\n        while (decs.length < precision) {\n          decs += '0'\n        }\n\n        str += `.${decs}`\n      }\n\n      return str\n    }\n  \n    let dir:string = ''\n    let d:number = Math.round(deg)\n    const minfloat:number = Math.abs((deg - d) * 60)\n    let m:number = Math.floor(minfloat)\n    let secfloat:number = (minfloat - m) * 60\n    d = Math.abs(d)\n  \n    if (secfloat === 60) {\n      m += 1\n      secfloat = 0\n    }\n  \n    if (m === 60) {\n      d += 1\n      m = 0\n    }\n  \n    if (lng === true) {\n      dir = deg < 0 ? 'W' : 'E'\n    } else {\n      dir = deg < 0 ? 'S' : 'N'\n    }\n  \n    return `${z(d)}° ${z(m)}' ${z(parseFloat(secfloat.toFixed(1)), 1)}\" ${dir}`\n  }\n}","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport { IApplicationState } from '../../types'\nimport Widget from './widget'\n\nconst mapStateToProps = (state: IApplicationState, ownProps: any) => ({\n  ...ownProps\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget)\n","import React from 'react'\nimport { Stage, Layer, Circle, Rect, Text, Group, Line, Wedge } from 'react-konva'\nimport { ISailSteerPropTypes } from '../../types'\nimport './sailsteer.css'\nimport Widget from '../widget'\n\nlet logged = 0\n\nexport default class SailSteer extends React.Component<ISailSteerPropTypes> {\n  renderTack (side:string, awa:number, colour:string = 'green') {\n    if (isNaN(awa as number)) {\n      return null\n    }\n\n    const heading = 0\n    let tack = awa\n\n    if (awa < -90 || awa > 90) {\n      return null\n    }\n\n    if (side === 'port') {\n      tack = awa - 45\n    }\n\n    if (side === 'starboard') {\n      tack = awa + 45\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    return (\n      <Group\n        rotation={tack}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Line\n          x={width / 2}\n          y={55}\n          stroke={colour}\n          strokeWidth={8}\n          points={[\n            0, 0,\n            0, (height / 2) - 55\n          ]}\n        />\n      </Group>\n    )\n  }\n\n  renderCenter (speedValue:number) {\n    let val:string = '--'\n    if (!isNaN(speedValue)) {\n      val = this.msToKnots(speedValue).toFixed(1)\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    return (\n      <Group>\n        <Line\n          x={width / 2}\n          y={55}\n          stroke='#ffffff80'\n          strokeWidth={1}\n          dash={[1, 5]}\n          points={[\n            0, 0,\n            0, (height / 2) - 55\n          ]}\n        />\n        <Line\n          x={width / 2}\n          y={height / 2}\n          stroke='#ffffff80'\n          strokeWidth={1}\n          dash={[1, 5]}\n          points={[\n            (-height / 2) + 55, 0,\n            (height / 2) - 55, 0\n          ]}\n        />\n        <Line\n          x={width / 2}\n          y={100}\n          stroke='#999999'\n          strokeWidth={4}\n          bezier={true}\n          closed={true}\n          points={[\n            0, 0,\n            60, 70,\n            100, height - 200,\n            0, height - 200,\n            -100, height - 200,\n            -60, 70,\n            0, 0\n          ]}\n        />\n        <Rect\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 30}\n          stroke='orange'\n          strokeWidth={1}\n          dash={[1, 2]}\n          cornerRadius={5}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 30}\n          lineHeight={2}\n          text={`${val} kts`}\n          align='center'\n          fill='white'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={18}\n        />\n      </Group>\n    )\n  }\n\n  renderCircles (heading:number) {\n    const {\n      width,\n      height\n    } = this.props\n\n    const outerOuterRadius:number = (height / 2) - 10\n    const outerInnerRadius:number = outerOuterRadius - 20\n    const innerOuterRadius:number = outerInnerRadius - 5\n    const innerInnerRadius:number = innerOuterRadius - 20\n\n    const rects = []\n    const texts = []\n    let count:number = 1\n\n    for (let i = 0; i <= 360; i += 10) {\n      if (count === 3) {\n        count = 0\n      }\n\n      rects.push(\n        <Rect\n          key={i}\n          x={width / 2}\n          y={height / 2}\n          points={[ count === 1 ? 10.5 : 20.5, height / 2 ]}\n          width={1}\n          height={ (height / 2) - (count === 1 ? 10 : 20) }\n          stroke={count === 1 ? 'white' : '#666666'}\n          rotation={i}\n          offsetX={0.5}\n          offsetY={ (height / 2) - (count === 1 ? 10 : 20) }\n        />\n      )\n\n      if (count === 1 && i < 360) {\n        texts.push(\n          <Text\n            key={i}\n            x={width / 2}\n            y={height / 2}\n            width={40}\n            height={10}\n            fill='black'\n            rotation={i}\n            offsetX={10}\n            offsetY={(height / 2) - 40}\n            text={this.compassDegrees(i)}\n            fontStyle='bold'\n            fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n            fontSize={13}\n          />\n        )\n      }\n\n      count += 1\n    }\n\n    return (\n      <Group\n        rotation={-(heading as number)}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          fill='#444444'\n        />\n        {rects}\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerInnerRadius}\n          fill='black'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerOuterRadius}\n          fill='white'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerInnerRadius}\n          fill='black'\n        />\n        {texts}\n      </Group>\n    )\n  }\n\n  renderTWA (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n    \n    const twa = value || 0\n    const heading:number = 0\n\n    return (\n      <Group\n        rotation={twa}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Wedge\n          x={width / 2}\n          y={40}\n          radius={35}\n          angle={60}\n          fill='#00FF00CC'\n          rotation={60}\n        />\n        <Text\n          x={(width / 2) + 5}\n          y={70}\n          width={40}\n          height={40}\n          fill='white'\n          text='T'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={18}\n          rotation={180}\n        />\n      </Group>\n    )\n  }\n\n  renderAWA (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    const awa = value || 0\n\n    return (\n      <Group\n        rotation={awa}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Wedge\n          x={width / 2}\n          y={40}\n          radius={35}\n          angle={60}\n          fill='#0000FFCC'\n          rotation={-120}\n        />\n        <Text\n          x={(width / 2) - 6}\n          y={10}\n          width={40}\n          height={40}\n          fill='white'\n          text='A'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={18}\n        />\n      </Group>\n    )\n  }\n\n  renderCOG (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    const heading:number = 0\n    const cog = value || 0\n    const calculated = -(heading as number) + cog\n\n    return (\n      <Group\n        rotation={calculated}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Line\n          x={width / 2}\n          y={height / 2}\n          strokeWidth={6}\n          stroke='red'\n          points={[\n            0, (-height / 2) + 55,\n            0, (-height / 2) + 35\n          ]}\n        />\n      </Group>\n    )\n  }\n\n  renderBTW (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    const heading:number = 0\n    const btw = value || 0\n\n    return (\n      <Group\n        rotation={-btw}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Circle\n          x={width / 2}\n          y={55}\n          strokeWidth={2}\n          stroke='black'\n          fill='yellow'\n          radius={10}\n        />\n      </Group>\n    )\n  }\n\n  render () {\n    const {\n      height,\n      width,\n      widgets\n    } = this.props\n    \n    const { paths } = this.props\n\n    if (Object.keys(paths).length > 0 && logged < 10) {\n      console.log('paths', logged, paths)\n      logged += 1\n    }\n\n    const cog = paths['navigation.courseOverGroundTrue']\n    const awa = paths['environment.wind.angleApparent']\n    const twa = paths['environment.wind.angleTrueWater']\n    const btw = null\n\n    let heading = null\n\n    if (typeof paths['navigation.headingMagnetic'] === 'number') {\n      heading = paths['navigation.headingMagnetic'] as number\n    } else if (typeof paths['navigation.headingTrue'] === 'number') {\n      heading = paths['navigation.headingTrue'] as number\n    } else if (typeof paths['navigation.courseOverGroundMagnetic'] === 'number') {\n      heading = paths['navigation.courseOverGroundMagnetic'] as number\n    } else {\n      heading = null\n    }\n\n    if (heading === null) {\n      return (\n        <section className='sailsteer centered'>\n          <h3 className='notification'>No heading...</h3>\n        </section>\n      )\n    }\n\n    heading = this.radToDegrees(heading)\n    let depth = paths['environment.depth.belowTransducer'] as number\n\n    if (typeof depth !== 'number' || isNaN(depth)) {\n      depth = -9999\n    } else {\n      depth = depth - 1\n    }\n\n    return (\n      <section className='sailsteer'>\n        <Stage width={width} height={height}>\n          <Layer>\n            {this.renderCircles(heading)}\n            {this.renderCenter(paths['navigation.speedThroughWater'] as number)}\n            {this.renderTack('port', this.radToDegrees(awa as number), '#FF000080')}\n            {this.renderTack('starboard', this.radToDegrees(awa as number), '#00FF0080')}\n            {twa !== null && this.renderTWA(this.radToDegrees(twa as number))}\n            {awa !== null && this.renderAWA(this.radToDegrees(awa as number))}\n            {cog !== null && this.renderCOG(this.radToDegrees(cog as number))}\n            {btw !== null && this.renderBTW(this.radToDegrees(btw as number))}\n          </Layer>\n        </Stage>\n        \n        {widgets === true && (<div className='widgets-left'>\n          <Widget position='left' label='COG' value={paths['navigation.courseOverGroundTrue']} conversion='degrees' postfix='°' />\n          <Widget position='left' label='SOG' value={paths['navigation.speedOverGround']} conversion='knots' />\n          <Widget position='left' label='Speed' value={paths['navigation.speedThroughWater']} conversion='knots' />\n          <Widget position='left' label='VMG' value={paths['performance.velocityMadeGood']} conversion='knots' />\n        </div>)}\n\n        {widgets === true && (<div className='widgets-right'>\n          <Widget position='right' label='Depth' value={depth} />\n          {/* <Widget position='right' label='WindR (app.)' value={this.radToDegrees(paths['environment.wind.angleApparent'] as number)} />\n          <Widget position='right' label='WindR (waar)' value={this.radToDegrees(paths['environment.wind.angleTrueWater'] as number)} /> */}\n          <Widget position='right' label='Windspd (A)' value={paths['environment.wind.speedApparent']} conversion='knots' />\n          <Widget position='right' label='Windspd (T)' value={paths['environment.wind.speedTrue']} conversion='knots' />\n          <Widget position='right' label='Current' value={paths['environment.current']} conversion='degrees' postfix='°' />\n        </div>)}\n      </section>\n    )\n  }\n\n  msToKnots (ms:number):number {\n    return ms * 1.94384449\n  }\n\n  radToDegrees (rad:number):number {\n    return rad * 180 / Math.PI\n  }\n\n  compassDegrees (n:number, len:number = 3):string {\n    if (n === 0) {\n      return ' N '\n    }\n\n    if (n === 90) {\n      return ' O '\n    }\n\n    if (n === 180) {\n      return ' Z '\n    }\n\n    if (n === 270) {\n      return ' W '\n    }\n\n    let str:string = String(n)\n\n    while (str.length < len) {\n      str = `0${str}`\n    }\n\n    return str\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport pick from 'object.pick'\nimport { IApplicationState } from '../../types'\nimport SailSteer from './sailsteer'\n\nconst mapStateToProps = ({ signalk }: IApplicationState, ownProps: any) => {\n  const { data } = signalk\n  const paths = pick(data, [\n    'name',\n    'navigation.courseOverGroundMagnetic',\n    'navigation.courseOverGroundTrue',\n    'navigation.headingMagnetic',\n    'navigation.headingTrue',\n    'navigation.speedThroughWater',\n    'navigation.speedOverGround',\n    'navigation.position',\n    \n    'performance.velocityMadeGood',\n    'environment.wind.speedApparent',\n    'environment.wind.angleApparent',\n    'environment.wind.speedTrue',\n    'environment.wind.angleTrueWater',\n    'environment.depth.belowTransducer',\n    'environment.current'\n  ])\n\n  return {\n    ...ownProps,\n    paths\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SailSteer)\n","import React from 'react'\nimport { Stage, Layer, Circle, Rect, Text, Group, Line, Wedge } from 'react-konva'\nimport { IWindPropTypes, EWindTypes } from '../../types'\nimport './wind.css'\n\nexport default class Wind extends React.Component<IWindPropTypes> {\n  renderCenter (speed:number, angle:number) {\n    let val:string = '--'\n    if (!isNaN(speed)) {\n      val = this.msToKnots(speed).toFixed(1)\n    }\n\n    const {\n      width,\n      height,\n      type\n    } = this.props\n\n    const outerOuterRadius:number = (height / 2) - 10\n    const outerInnerRadius:number = outerOuterRadius - 40\n\n    return (\n      <Group>\n        <Line\n          x={width / 2}\n          y={55}\n          stroke='#ffffff80'\n          strokeWidth={1}\n          dash={[1, 5]}\n          points={[\n            0, 0,\n            0, (height / 2) - 55\n          ]}\n        />\n        \n        <Line\n          x={width / 2}\n          y={100}\n          stroke='#999999'\n          strokeWidth={4}\n          bezier={true}\n          closed={true}\n          points={[\n            0, 0,\n            60, 70,\n            100, height - 200,\n            0, height - 200,\n            -100, height - 200,\n            -60, 70,\n            0, 0\n          ]}\n        />\n        <Rect\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 5}\n          stroke='orange'\n          strokeWidth={1}\n          dash={[1, 2]}\n          cornerRadius={5}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 5}\n          lineHeight={2.3}\n          text={`${angle >= 0 ? '+' : ''}${this.radToDegrees(angle).toFixed(1)}°`}\n          align='center'\n          fill='white'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={16}\n        />\n        <Rect\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 50}\n          stroke='orange'\n          strokeWidth={1}\n          dash={[1, 2]}\n          cornerRadius={5}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 50}\n          lineHeight={2.3}\n          // text={`${this.radToDegrees(angle).toFixed(1)}`}\n          text={`${val} kts`}\n          align='center'\n          fill='white'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={16}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 85}\n          lineHeight={2}\n          text={type}\n          align='center'\n          fill='white'\n          fontStyle='normal'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={14}\n        />\n\n        <Line\n          x={width / 2}\n          y={(height / 2)}\n          stroke='magenta'\n          strokeWidth={3}\n          rotation={-180 + this.radToDegrees(angle)}\n          shadowColor='black'\n          shadowBlur={10}\n          shadowOpacity={1}\n          points={[\n            0, (height / 2) - 45,\n            0, 0\n          ]}\n        />\n      </Group>\n    )\n  }\n\n  renderCircles () {\n    const {\n      width,\n      height\n    } = this.props\n\n    const heading:number = 0\n    const outerOuterRadius:number = (height / 2) - 10\n    const outerInnerRadius:number = outerOuterRadius - 20\n    const innerOuterRadius:number = outerInnerRadius - 5\n    const innerInnerRadius:number = innerOuterRadius - 20\n\n    const rects = []\n    const texts = []\n    let count:number = 1\n\n    for (let i = 0; i <= 360; i += 10) {\n      if (count === 3) {\n        count = 0\n      }\n\n      let colour = '#666666'\n\n      if (count === 1 || (i >= 20 && i <= 70) || (i >= 290 && i <= 340)) {\n        colour = 'white'\n      }\n\n      rects.push(\n        <Rect\n          key={i}\n          x={width / 2}\n          y={height / 2}\n          points={[ count === 1 ? 10.5 : 20.5, height / 2 ]}\n          width={1}\n          height={ (height / 2) - (count === 1 ? 10 : 20) }\n          stroke={colour}\n          rotation={i}\n          offsetX={0.5}\n          offsetY={ (height / 2) - (count === 1 ? 10 : 20) }\n        />\n      )\n\n      if (count === 1 && i < 360) {\n        texts.push(\n          <Text\n            key={i}\n            x={width / 2}\n            y={height / 2}\n            width={40}\n            height={10}\n            fill='black'\n            rotation={i}\n            offsetX={10}\n            offsetY={(height / 2) - 40}\n            text={this.compassDegrees(i)}\n            fontStyle='bold'\n            fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n            fontSize={13}\n          />\n        )\n      }\n\n      count += 1\n    }\n\n    return (\n      <Group\n        rotation={-(heading as number)}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          fill='#444444'\n        />\n        <Wedge\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          angle={50}\n          fill='red'\n          rotation={-70}\n        />\n        <Wedge\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          angle={50}\n          fill='green'\n          rotation={-160}\n        />\n        {rects}\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerInnerRadius}\n          fill='black'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerOuterRadius}\n          fill='white'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerInnerRadius}\n          fill='black'\n        />\n        {texts}\n      </Group>\n    )\n  }\n\n  render () {\n    const {\n      height,\n      width,\n      type\n    } = this.props\n    \n    const { paths } = this.props\n    let angle:number = 0\n    let speed:number = 0\n\n    if (type === EWindTypes.APPARENT) {\n      angle = (paths['environment.wind.angleApparent'] as number)\n      speed = (paths['environment.wind.speedApparent'] as number)\n    } else {\n      angle = (paths['environment.wind.angleTrueWater'] as number)\n      speed = (paths['environment.wind.speedTrue'] as number)\n    }\n\n    if (isNaN(angle)) {\n      angle = 0\n    }\n\n    if (isNaN(speed)) {\n      speed = 0\n    }\n\n    return (\n      <section className='wind'>\n        <Stage width={width} height={height}>\n          <Layer>\n            {this.renderCircles()}\n            {this.renderCenter(speed, angle)}\n          </Layer>\n        </Stage>\n      </section>\n    )\n  }\n\n  msToKnots (ms:number):number {\n    return ms * 1.94384449\n  }\n\n  radToDegrees (rad:number):number {\n    return rad * 180 / Math.PI\n  }\n\n  compassDegrees (n:number, len:number = 3):string {\n    if (n === 0 || n === 180) {\n      return ''\n    }\n\n    let str:string = String(n)\n\n    if (n > 180) {\n      str = String(180 - (n - 180))\n    }\n\n    while (str.length < len) {\n      str = `0${str}`\n    }\n\n    return str\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport pick from 'object.pick'\nimport { IApplicationState } from '../../types'\nimport Wind from './wind'\n\nconst mapStateToProps = ({ signalk }: IApplicationState, ownProps: any) => {\n  const { data } = signalk\n  const paths = pick(data, [\n    'environment.wind.speedApparent',\n    'environment.wind.angleApparent',\n    'environment.wind.speedTrue',\n    'environment.wind.angleTrueWater'\n  ])\n\n  return {\n    ...ownProps,\n    paths\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Wind)\n","import React from 'react'\nimport { IGridPropTypes, EDisplayTypes } from '../../types'\nimport './grid.css'\nimport Widget from '../widget'\n\nexport default class Wind extends React.Component<IGridPropTypes> {\n  render () {\n    const {\n      layout,\n      widgets,\n      paths,\n      configs\n    } = this.props\n\n    let content = null\n    let blocks = widgets.map((path:string) => {\n      const value = paths[path]\n      const config = configs[path]\n\n      if (typeof config !== 'object' || !config) {\n        return null\n      }\n\n      return (\n        <Widget\n          key={path}\n          conversion={config.conversion}\n          postfix={config.postfix}\n          label={config.label}\n          value={value}\n        />\n      )\n    })\n\n    switch (layout) {\n      case EDisplayTypes.GRID2:\n        content = (\n          <div className='rows'>\n            <div className='row double'>\n              <div className='col xs-6'>\n                {blocks[0]}\n              </div>\n              <div className='col xs-6'>\n                {blocks[1]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n\n      case EDisplayTypes.GRID4:\n        content = (\n          <div className='rows'>\n            <div className='row'>\n              <div className='col xs-6'>\n                {blocks[0]}\n              </div>\n              <div className='col xs-6'>\n                {blocks[1]}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col xs-6'>\n                {blocks[2]}\n              </div>\n              <div className='col xs-6'>\n                {blocks[3]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n\n      case EDisplayTypes.GRID6:\n        content = (\n          <div className='rows'>\n            <div className='row'>\n              <div className='col xs-4'>\n                {blocks[0]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[1]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[2]}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col xs-4'>\n                {blocks[3]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[4]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[5]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n\n      default:\n        content = (\n          <div className='rows'>\n            <div className='row double'>\n              <div className='col xs-12'>\n                {blocks[0]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n    }\n    \n    return (\n      <section className='grid'>\n        {content}\n      </section>\n    )\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport pick from 'object.pick'\nimport configs from '../../config'\nimport { IApplicationState } from '../../types'\nimport Grid from './grid'\n\nconst mapStateToProps = ({ signalk, ui }: IApplicationState, ownProps: any) => {\n  const { data } = signalk\n  const paths = pick(data, ui.widgets)\n\n  return {\n    ...ownProps,\n    layout: ui.display,\n    widgets: ui.widgets,\n    configs,\n    paths\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Grid)\n","import React from 'react'\n\nimport './freeboard.css'\n\nexport interface IFreeboardProps {\n  width?: number,\n  height?: number\n}\n\nconst Freeboard: React.FC<IFreeboardProps> = () => {\n  return (\n    <section className='freeboard'>\n      <div className='freeboard--outer'>\n        <iframe title='freeboard' src='http://192.168.194.90:3000/@signalk/freeboard-sk/?northup=1&movemap=1' />\n      </div>\n    </section>\n  )\n}\n\nexport default Freeboard\n","import React from 'react'\nimport { IAppPropTypes, EDisplayTypes } from '../../types'\nimport './app.css'\n\nimport SailSteer from '../sailsteer'\nimport Wind from '../wind'\nimport Grid from '../grid'\nimport Freeboard from '../freeboard'\n\nclass App extends React.Component<IAppPropTypes> {\n  render () {\n    const { innerHeight, innerWidth } = window\n    const {\n      display,\n      type,\n      connected\n    } = this.props\n\n    if (connected === false) {\n      return (\n        <section className='sailsteer centered'>\n          <h3 className='notification'>Connecting...</h3>\n        </section>\n      )\n    }\n\n    switch (display) {\n      case EDisplayTypes.WIND:\n        return <Wind\n          type={type}\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      case EDisplayTypes.SAILSTEER:\n        return <SailSteer\n          widgets={true}\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      case EDisplayTypes.GRID1:\n      case EDisplayTypes.GRID2:\n      case EDisplayTypes.GRID4:\n      case EDisplayTypes.GRID6:\n        return <Grid\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      case EDisplayTypes.FREEBOARD:\n        return <Freeboard\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      default:\n        return (\n          <p style={{ textAlign: 'center' }}>\n            <strong style={{ color: 'white' }}>Loading...</strong>\n          </p>\n        )\n    }\n  }\n}\n\nexport default App\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport { IApplicationState } from '../../types'\nimport App from './app'\n\nconst mapStateToProps = ({ ui }: IApplicationState, ownProps: any) => {\n  return {\n    ...ownProps,\n    display: ui.display,\n    type: ui.windType,\n    widgets: ui.widgets,\n    connected: ui.connected\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { Provider } from 'react-redux'\nimport Client from '@signalk/client'\nimport configureStore from './data/configure'\nimport { refresh, setConnected } from './data/ducks/ui'\nimport { hydrateAction } from './data/ducks/signalk'\n\nimport {\n  SK_HOST,\n  SK_PORT,\n  SK_USERNAME,\n  SK_PASSWORD,\n  SK_AUTH,\n  IDENTITY\n} from './config'\n\nimport './index.css'\nimport App from './gui/app'\n\nconst client = new Client({\n  hostname: SK_HOST,\n  port: SK_PORT,\n  useAuthentication: false,\n  useTLS: (SK_PORT === 443),\n  reconnect: true,\n  autoConnect: true,\n  notifications: false\n})\n\nconst store = configureStore(client)\nstore.dispatch(refresh(IDENTITY))\n\nclient.on('connect', () => {\n  console.log('client.connect')\n  \n  client.authenticate(SK_USERNAME, SK_PASSWORD)\n  client.once('authenticated', (data: any) => {\n    console.log('client.authenticate', data)\n    store.dispatch(setConnected(true))\n    store.dispatch((hydrateAction as any)())\n  })\n})\n\nclient.on('disconnect', () => {\n  console.log('client.disconnect')\n  store.dispatch(setConnected(false))\n})\n\nconst Root = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nconst container = document.getElementById('root')\nconst root = createRoot(container!)\nroot.render(Root)\n","import {\n  Store,\n  createStore,\n  applyMiddleware\n} from 'redux'\n\nimport createSagaMiddleware from 'redux-saga'\nimport thunk from 'redux-thunk'\nimport sagas from './sagas'\nimport { IApplicationState } from '../types'\nimport rootReducer, { initialState } from './ducks'\n\nexport { initialState }\nexport default function configureStore(signalk:any): Store<IApplicationState> {\n  const sagaMiddleware = createSagaMiddleware()\n  const store = createStore(\n    rootReducer,\n    initialState,\n    applyMiddleware(\n      sagaMiddleware,\n      thunk.withExtraArgument(signalk)\n    )\n  )\n\n  sagaMiddleware.run(sagas)\n  return store\n}\n"],"sourceRoot":""}