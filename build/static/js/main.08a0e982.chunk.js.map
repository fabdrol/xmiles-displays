{"version":3,"sources":["types.ts","config.ts","lib/api.ts","lib/utils.ts","data/ducks/ui.ts","data/sagas.ts","data/ducks/signalk.ts","data/ducks/index.ts","gui/widget/widget.tsx","gui/widget/index.ts","gui/sailsteer/sailsteer.tsx","gui/sailsteer/index.ts","gui/wind/wind.tsx","gui/wind/index.ts","gui/grid/grid.tsx","gui/grid/index.ts","gui/app/app.tsx","gui/app/index.ts","index.tsx","data/configure.ts"],"names":["EWindTypes","EDisplayTypes","src_config","navigation.headingTrue","conversion","label","postfix","environment.depth.belowTransducer","environment.depth.belowKeel","environment.depth.belowSurface","navigation.courseOverGroundMagnetic","environment.water.temperature","environment.outside.temperature","environment.wind.directionTrue","environment.wind.directionMagnetic","environment.wind.angleApparent","environment.wind.speedApparent","environment.wind.speedTrue","environment.wind.angleTrueGround","environment.wind.angleTrueWater","environment.wind.speedOverGround","navigation.courseOverGroundTrue","navigation.headingMagnetic","navigation.speedOverGround","navigation.speedThroughWater","navigation.position","API","refresh","_refresh","Object","asyncToGenerator","regenerator_default","a","mark","_callee","display","wrap","_context","prev","next","axios","get","concat","abrupt","sent","stop","_x","apply","this","arguments","flatten","tree","prefix","length","undefined","keys","output","forEach","key","mixed","value","hasOwnProperty","child","subkey","sleep","timeout","result","Promise","resolve","setTimeout","ActionTypes","initialState","connected","SAILSTEER","windType","TRUE","widgets","setWindTypeAction","payload","type","SET_WIND_TYPE","setDisplayAction","SET_DISPLAY","setWidgetsAction","SET_WIDGETS","REFRESH","setConnected","SET_CONNECTED","UISagas","refreshSaga","action","_ref","data","call","put","t0","console","log","message","run","takeLatest","UIActionTypes","_marked","fetched","fetching","subscribe","dispatch","signalk","paths","removeListener","unsubscribe","err","on","delta","updates","update","timestamp","values","time","DateTime","fromISO","_ref2","_callee2","getState","_context2","local","diff","as","SET_PATH","_x4","_x5","_x6","Array","isArray","context","map","path","ui","uiInitialState","skInitialState","combineReducers","state","RESET","objectSpread","APPARENT","HYDRATE","defineProperty","Widget","val","toFixed","Math","PI","_this$props","props","react_default","createElement","className","ddToDms","longitude","latitude","classes","metric","_this$props2","position","includes","renderPosition","isNaN","convert","deg","lng","z","n","precision","str","String","decs","dir","d","round","minfloat","abs","m","floor","secfloat","parseFloat","React","Component","connect","ownProps","SailSteer","side","awa","colour","tack","width","height","ReactKonva","rotation","offsetX","offsetY","x","y","stroke","strokeWidth","points","speedValue","msToKnots","dash","bezier","closed","cornerRadius","lineHeight","text","align","fill","fontStyle","fontFamily","fontSize","heading","_this$props3","outerOuterRadius","outerInnerRadius","innerOuterRadius","innerInnerRadius","rects","texts","count","i","push","compassDegrees","radius","_this$props4","twa","angle","_this$props5","_this$props6","calculated","_this$props7","btw","_this$props8","cog","radToDegrees","depth","renderCircles","renderCenter","renderTack","renderTWA","renderAWA","renderCOG","gui_widget","ms","rad","len","pick","Wind","speed","shadowColor","shadowBlur","shadowOpacity","layout","configs","content","blocks","config","GRID2","GRID4","GRID6","Grid","App","_window","window","innerHeight","innerWidth","WIND","gui_wind","gui_sailsteer","GRID1","gui_grid","style","textAlign","color","client","Client","hostname","port","useAuthentication","username","password","useTLS","reconnect","autoConnect","notifications","store","sagaMiddleware","createSagaMiddleware","createStore","rootReducer","applyMiddleware","thunk","withExtraArgument","sagas","configureStore","api","self","_x2","_x3","Root","es","gui_app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.08a0e982.chunk.js","sourcesContent":["export enum EWindTypes {\n  APPARENT = 'apparent',\n  TRUE = 'true'\n}\n\nexport enum EDisplayTypes {\n  WIND = 'wind',\n  SAILSTEER = 'sailsteer',\n  GRID1 = 'grid_1',\n  GRID2 = 'grid_2',\n  GRID4 = 'grid_4',\n  GRID6 = 'grid_6'\n}\n\nexport interface IWidgetConfig {\n  label: string,\n  conversion?: string,\n  postfix?: string\n}\n\nexport interface IApplicationState {\n  ui: IUIDuckState,\n  signalk: ISignalKDuckState\n}\n\nexport interface IAppPropTypes {\n  connected: boolean,\n  display: EDisplayTypes,\n  type: EWindTypes,\n  widgets: string[]\n}\n\nexport interface ISailSteerPropTypes {\n  paths: {\n    [path:string]: number|{[key:string]:number}\n  },\n  width: number,\n  height: number,\n  widgets: boolean\n}\n\nexport interface IWindPropTypes {\n  paths: {\n    [path:string]: number|{[key:string]:number}\n  },\n  width: number,\n  height: number,\n  type: EWindTypes\n}\n\nexport interface IGridPropTypes {\n  width: number,\n  height: number,\n  widgets: string[],\n  layout: EDisplayTypes,\n  configs: {\n    [path:string]: IWidgetConfig\n  },\n  paths: {\n    [path:string]: number|{[key:string]:number}\n  }\n}\n\nexport interface IUIDuckState {\n  connected: boolean,\n  display: EDisplayTypes,\n  windType: EWindTypes,\n  widgets: string[]\n}\n\nexport interface ISignalKDuckState {\n  fetched: boolean,\n  fetching: boolean,\n  data: {\n    [path: string]: ISignalKLeaf\n  }\n}\n\nexport interface ISignalKDeltaValue {\n  path: string,\n  value: number|{[key:string]:number}\n}\n\nexport interface ISignalKDeltaUpdate {\n  '$source'?: string,\n  source?: any,\n  timestamp: string,\n  values: ISignalKDeltaValue[]\n}\n\nexport interface ISignalKDelta {\n  context?: string,\n  updates: ISignalKDeltaUpdate[]\n}\n\nexport interface ISignalKLeaf {\n  value: number|{[key:string]:number},\n  timestamp: string,\n  meta: ISignalKMeta,\n  '$source'?: string,\n  source?: any\n}\n\nexport interface ISignalKMeta {\n  units?: string,\n  description?: string\n}\n\nexport interface IWidgetPropTypes {\n  position: string,\n  value: number|{[key:string]:number},\n  label?: string,\n  conversion?: string,\n  postfix?: string\n}\n","// export const SK_HOST = 'hq.decipher.digital'\nexport const SK_HOST = '192.168.0.100'\nexport const SK_PORT = 3000\nexport const SK_USERNAME = 'sdk@decipher.industries'\nexport const SK_PASSWORD = 'signalk'\nexport const SK_AUTH = false\nexport const IDENTITY = 'port'\n/*\n  navigation.headingTrue\n  environment.depth.belowTransducer\n  environment.depth.belowKeel\n  environment.depth.belowSurface\n  navigation.courseOverGroundMagnetic\n  environment.water.temperature\n  environment.outside.temperature\n  environment.wind.directionTrue\n  environment.wind.directionMagnetic\n  environment.wind.angleApparent\n  environment.wind.speedApparent\n  environment.wind.speedTrue\n  environment.wind.angleTrueGround\n  environment.wind.angleTrueWater\n  environment.wind.speedOverGround\n*/\nexport default {\n  'navigation.headingTrue': {\n    conversion: 'degrees',\n    label: 'Heading (T)',\n    postfix: '°'\n  },\n  \n  'environment.depth.belowTransducer': {\n    conversion: null,\n    label: 'Depth (sonar)',\n    postfix: null\n  },\n  \n  'environment.depth.belowKeel': {\n    conversion: null,\n    label: 'Depth (keel)',\n    postfix: null\n  },\n  \n  'environment.depth.belowSurface': {\n    conversion: null,\n    label: 'Depth (surface)',\n    postfix: null\n  },\n  \n  'navigation.courseOverGroundMagnetic': {\n    conversion: 'degrees',\n    label: 'COG (M)',\n    postfix: '°'\n  },\n  \n  'environment.water.temperature': {\n    conversion: 'temperature',\n    label: 'Water',\n    postfix: '°C'\n  },\n  \n  'environment.outside.temperature': {\n    conversion: 'temperature',\n    label: 'Outside',\n    postfix: '°C'\n  },\n  \n  'environment.wind.directionTrue': {\n    conversion: 'degrees',\n    label: 'Wind direction (T)',\n    postfix: '°'\n  },\n  \n  'environment.wind.directionMagnetic': {\n    conversion: 'degrees',\n    label: 'Wind direction (M)',\n    postfix: '°'\n  },\n  \n  'environment.wind.angleApparent': {\n    conversion: 'degrees',\n    label: 'Wind angle (A)',\n    postfix: '°'\n  },\n  \n  'environment.wind.speedApparent': {\n    conversion: 'knots',\n    label: 'Wind speed (A)',\n    postfix: null\n  },\n  \n  'environment.wind.speedTrue': {\n    conversion: 'knots',\n    label: 'Wind speed (T)',\n    postfix: null\n  },\n  \n  'environment.wind.angleTrueGround': {\n    conversion: 'degrees',\n    label: 'Wind angle/ground (T)',\n    postfix: '°'\n  },\n  \n  'environment.wind.angleTrueWater': {\n    conversion: 'degrees',\n    label: 'Wind angle/water (T)',\n    postfix: '°'\n  },\n  \n  'environment.wind.speedOverGround': {\n    conversion: 'knots',\n    label: 'SOG',\n    postfix: null\n  },\n\n  'navigation.courseOverGroundTrue': {\n    conversion: 'degrees',\n    label: 'COG (T)',\n    postfix: '°'\n  },\n  'navigation.headingMagnetic': {\n    conversion: 'degrees',\n    label: 'Heading (M)',\n    postfix: '°'\n  },\n  'navigation.speedOverGround': {\n    conversion: 'knots',\n    label: 'SOG',\n    postfix: null\n  },\n  'navigation.speedThroughWater': {\n    conversion: 'knots',\n    label: 'Speed',\n    postfix: null\n  },\n  'navigation.position': {\n    conversion: null,\n    label: 'Position',\n    postfix: null\n  }\n}\n","import axios from 'axios'\nimport {\n  SK_HOST,\n  SK_PORT\n} from '../config'\n\nconst API = {\n  async refresh (display:string) {\n    return await axios.get(`http://${SK_HOST}:${SK_PORT}/_essense-instrument/api/v1/state/${display}`)\n  }\n}\n\nexport default API\n","export function isLeaf (mixed:any):boolean {\n  if (mixed && typeof mixed === 'object' && mixed.hasOwnProperty('value')) {\n    return true\n  }\n\n  return false\n}\n\nexport function flatten (tree:any, prefix:string = '') {\n  const keys:string[] = Object.keys(tree)\n  const output:any = {}\n\n  keys.forEach((key:string) => {\n    const value:any = tree[key]\n\n    if (prefix !== '') {\n      key = `${prefix}.${key}`\n    }\n\n    if (value && typeof value === 'object' && !isLeaf(value)) {\n      const child:any = flatten(value)\n      const childKeys:string[] = Object.keys(child)\n\n      childKeys.forEach((subkey:string) => {\n        output[`${key}.${subkey}`] = child[subkey]\n      })\n    } else {\n      output[key] = value\n    }\n  })\n\n  return output\n}\n\nexport function sleep (timeout:number, result:any = undefined):Promise<any> {\n  return new Promise(resolve => setTimeout(() => resolve(result), timeout))\n}\n","import { Reducer, Action, ActionCreator } from 'redux'\nimport API from '../../lib/api'\nimport { sleep } from '../../lib/utils'\n\nimport {\n  call,\n  put\n} from 'redux-saga/effects'\n\nimport {\n  IUIDuckState,\n  EWindTypes,\n  EDisplayTypes\n} from '../../types'\n\nexport const initialState:IUIDuckState = {\n  connected: false,\n  display: EDisplayTypes.SAILSTEER,\n  windType: EWindTypes.TRUE,\n  widgets: [\n    'navigation.position',\n    'navigation.speedThroughWater',\n    'navigation.headingMagnetic',\n    'navigation.courseOverGroundTrue',\n    'navigation.speedOverGround',\n    'navigation.courseOverGroundTrue',\n    'navigation.speedOverGround'\n  ]\n}\n\nexport enum ActionTypes {\n  RESET = '@@ui/RESET',\n  SET_WIND_TYPE = '@@ui/SET_WIND_TYPE',\n  SET_DISPLAY = '@@ui/SET_DISPLAY',\n  SET_WIDGETS = '@@ui/SET_WIDGETS',\n  REFRESH = '@@ui/REFRESH',\n  SET_CONNECTED = '@@ui/SET_CONNECTED'\n}\n\nexport const UIReducer: Reducer<IUIDuckState> = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action\n\n  switch (type) {\n    case ActionTypes.RESET:\n      return {\n        ...initialState\n      }\n\n    case ActionTypes.SET_WIDGETS:\n      return {\n        ...state,\n        widgets: payload\n      }\n    \n    case ActionTypes.SET_DISPLAY:\n      return {\n        ...state,\n        display: payload\n      }\n\n    case ActionTypes.SET_WIND_TYPE:\n      return {\n        ...state,\n        windType: payload === 'true' ? EWindTypes.TRUE : EWindTypes.APPARENT\n      }\n    \n    case ActionTypes.SET_CONNECTED:\n      return {\n        ...state,\n        connected: payload\n      }\n\n    default:\n      return {\n        ...state\n      }\n  }\n}\n\nexport const setWindTypeAction: ActionCreator<Action> = (payload:EWindTypes) => {\n  return {\n    type: ActionTypes.SET_WIND_TYPE,\n    payload\n  }\n}\n\nexport const setDisplayAction: ActionCreator<Action> = (payload:EDisplayTypes) => {\n  return {\n    type: ActionTypes.SET_DISPLAY,\n    payload\n  }\n}\n\nexport const setWidgetsAction: ActionCreator<Action> = (payload:string[]) => {\n  return {\n    type: ActionTypes.SET_WIDGETS,\n    payload\n  }\n}\n\nexport const refresh: ActionCreator<Action> = (payload:string = 'port') => {\n  return {\n    type: ActionTypes.REFRESH,\n    payload\n  }\n}\n\nexport const setConnected: ActionCreator<Action> = (payload:boolean = true) => {\n  return {\n    type: ActionTypes.SET_CONNECTED,\n    payload\n  }\n}\n\nexport const UISagas = {\n  refresh: function* refreshSaga (action:any):any {\n    const payload:string = action.payload\n    \n    try {\n      const { data } = yield call(API.refresh, payload)\n      yield put(setDisplayAction(data.display || 'sailsteer'))\n      yield put(setWindTypeAction(data.windType || 'apparent'))\n      yield put(setWidgetsAction(data.widgets || []))\n    } catch (err) {\n      console.log(`[UISagas/refresh] error: ${err.message}`)\n    }\n\n    yield sleep(5000)\n    yield put(refresh(payload))\n  }\n}","import { takeLatest } from 'redux-saga/effects'\n\nimport {\n  ActionTypes as UIActionTypes,\n  UISagas\n} from './ducks/ui'\n\nexport default function* run() {\n  yield takeLatest(UIActionTypes.REFRESH, UISagas.refresh)\n}\n","import { Reducer, Action, ActionCreator } from 'redux'\nimport { ThunkDispatch } from 'redux-thunk'\nimport { DateTime } from 'luxon'\nimport { IApplicationState, ISignalKDuckState, ISignalKDelta, ISignalKDeltaUpdate, ISignalKDeltaValue } from '../../types'\nimport { flatten } from '../../lib/utils'\n\nexport const initialState:ISignalKDuckState = {\n  fetched: false,\n  fetching: false,\n  data: {}\n}\n\nexport enum ActionTypes {\n  RESET = '@@signalk/RESET',\n  SET_PATH = '@@signalk/SET_PATH',\n  HYDRATE = '@@signalk/HYDRATE',\n  NOOP = '@@signalk/NOOP'\n}\n\nexport const SignalKReducer: Reducer<ISignalKDuckState> = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action\n\n  // if (type.startsWith('@@signalk')) {\n  //   console.log(type, payload)\n  // }\n\n  switch (type) {\n    case ActionTypes.RESET:\n      return {\n        ...initialState\n      }\n\n    case ActionTypes.HYDRATE:\n      return {\n        ...state,\n        data: {\n          ...payload\n        }\n      }\n\n    case ActionTypes.SET_PATH:\n      return {\n        ...state,\n        data: {\n          ...state.data,\n          [payload.path]: payload.value\n        }\n      }\n\n    default:\n      return {\n        ...state\n      }\n  }\n}\n\nexport function hydrateAction () {\n  return async (dispatch: ThunkDispatch<IApplicationState, void, Action>, getState: () => IApplicationState, signalk:any) => {\n    try {\n      const api = await signalk.API()\n      const self = await api.self()\n      const payload = flatten(self)\n\n      // Subscribe to changes\n      subscribe(dispatch, signalk)\n      \n      return dispatch({\n        type: ActionTypes.HYDRATE,\n        payload\n      })\n    } catch (err) {\n      console.log(`[signalk/hydrateAction] error: ${err.message}`)\n    }\n  }\n}\n\nexport function handleValueUpdate (timestamp:DateTime, payload:ISignalKDeltaValue) {\n  return async (dispatch: ThunkDispatch<IApplicationState, void, Action>, getState: () => IApplicationState, signalk:any) => {\n    const now = DateTime.local()\n    const age = now.diff(timestamp, 'seconds').as('seconds')\n\n    /* @TODO\n    if (age > 60) {\n      return dispatch({ type: ActionTypes.NOOP })\n    }\n    // */\n\n    return dispatch({\n      type: ActionTypes.SET_PATH,\n      payload\n    })\n  }\n}\n\nexport function subscribe (dispatch: ThunkDispatch<IApplicationState, void, Action>, signalk:any, paths?:string[]):void {\n  try {\n    console.log(`[signalk/subscribe] unsubscribing`)\n    signalk.removeListener('delta')\n    signalk.unsubscribe()\n  } catch (err) {\n    console.log(`[signalk/subscribe] error unsubscribing`)\n  }\n  \n  signalk.on('delta', (delta:ISignalKDelta) => {\n    const { updates } = delta\n\n    updates.forEach((update:ISignalKDeltaUpdate) => {\n      const {\n        timestamp,\n        values\n      } = update\n\n      const time:DateTime = DateTime.fromISO(timestamp)\n\n      values.forEach((value:ISignalKDeltaValue) => {\n        dispatch(handleValueUpdate(time, value))\n      })\n    })\n  })\n\n  console.log(`[signalk/subscribe] subscribing`)\n  if (!Array.isArray(paths) || paths.length === 0) {\n    signalk.subscribe()\n  } else {\n    signalk.subscribe({\n      context: 'vessels.self',\n      subscribe: paths.map((path:string) => ({ path }))\n    })\n  }\n}\n","import { combineReducers, Dispatch, Action, AnyAction } from 'redux'\nimport { IApplicationState } from '../../types'\n\nimport { UIReducer, initialState as uiInitialState } from './ui'\nimport { SignalKReducer, initialState as skInitialState } from './signalk'\n\nexport const initialState:IApplicationState = {\n  ui: uiInitialState,\n  signalk: skInitialState\n}\n\nexport default combineReducers<IApplicationState>({\n  ui: UIReducer,\n  signalk: SignalKReducer\n})\n","import React from 'react'\nimport utils from 'nmea0183-utilities'\nimport { IWidgetPropTypes } from '../../types'\nimport './widget.css'\n\nexport default class Widget extends React.Component<IWidgetPropTypes> {\n  convert (conversion:string, value:any):string {\n    const val = value as number\n\n    switch (conversion) {\n      case 'knots': \n        return (val * 1.94384449).toFixed(1)\n\n      case 'temperature':\n        return (val - 272.15).toFixed(1)\n\n      case 'degrees':\n        return (val * 180 / Math.PI).toFixed(1)\n\n      default:\n        return val.toFixed(1)\n    }\n  }\n\n  renderPosition () {\n    const { value, label } = this.props\n\n    return (\n      <div className='widget position'>\n        <h1>\n          {this.ddToDms((value as any).longitude, true)}<br />\n          {this.ddToDms((value as any).latitude)}\n        </h1>\n        <h2>{label}</h2>\n      </div>\n    )\n  }\n\n  render () {\n    let classes = 'widget'\n    let metric = '--'\n\n    const {\n      postfix,\n      label,\n      conversion,\n      value,\n      position\n    } = this.props\n\n    if (typeof value === 'object' && Object.keys(value).includes('latitude')) {\n      return this.renderPosition()\n    }\n\n    if (position === 'left' || position === 'right') {\n      classes += ` ${position}`\n    } else {\n      classes += ' line-height'\n    }\n\n    if (typeof value === 'number' && !isNaN(value) && value !== -9999) {\n      metric = (value as number).toFixed(1)\n    }\n\n    if (typeof value === 'number' && typeof conversion === 'string') {\n      metric = this.convert(conversion, value)\n    }\n\n    return (\n      <div className={classes}>\n        <h1>{metric}{postfix || ''}</h1>\n        <h2>{label || ''}</h2>\n      </div>\n    )\n  }\n\n  private ddToDms (deg:number, lng:boolean = false):string {\n    if (isNaN(deg)) {\n      return '--'\n    }\n\n    const z = (n:number, precision:number = 0):string => {\n      let str:string = String(n)\n\n      if (n < 10) {\n        str = `0${n}`\n      }\n\n      if (precision > 0 && !str.includes('.')) {\n        let decs:string = ''\n\n        while (decs.length < precision) {\n          decs += '0'\n        }\n\n        str += `.${decs}`\n      }\n\n      return str\n    }\n  \n    let dir:string = ''\n    let d:number = Math.round(deg)\n    const minfloat:number = Math.abs((deg - d) * 60)\n    let m:number = Math.floor(minfloat)\n    let secfloat:number = (minfloat - m) * 60\n    d = Math.abs(d)\n  \n    if (secfloat === 60) {\n      m += 1\n      secfloat = 0\n    }\n  \n    if (m === 60) {\n      d += 1\n      m = 0\n    }\n  \n    if (lng === true) {\n      dir = deg < 0 ? 'W' : 'S'\n    } else {\n      dir = deg < 0 ? 'E' : 'N'\n    }\n  \n    return `${z(d)}° ${z(m)}' ${z(parseFloat(secfloat.toFixed(1)), 1)}\" ${dir}`\n  }\n}","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport { IApplicationState } from '../../types'\nimport Widget from './widget'\n\nconst mapStateToProps = (state: IApplicationState, ownProps: any) => ({\n  ...ownProps\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget)\n","import React from 'react'\nimport { Stage, Layer, Circle, Rect, Text, Group, Line, Wedge } from 'react-konva'\nimport { ISailSteerPropTypes } from '../../types'\nimport './sailsteer.css'\nimport Widget from '../widget'\n\nexport default class SailSteer extends React.Component<ISailSteerPropTypes> {\n  renderTack (side:string, awa:number, colour:string = 'green') {\n    if (isNaN(awa as number)) {\n      return null\n    }\n\n    const heading = 0\n    let tack = awa\n\n    if (awa < -90 || awa > 90) {\n      return null\n    }\n\n    if (side === 'port') {\n      tack = awa - 45\n    }\n\n    if (side === 'starboard') {\n      tack = awa + 45\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    return (\n      <Group\n        rotation={tack}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Line\n          x={width / 2}\n          y={55}\n          stroke={colour}\n          strokeWidth={8}\n          points={[\n            0, 0,\n            0, (height / 2) - 55\n          ]}\n        />\n      </Group>\n    )\n  }\n\n  renderCenter (speedValue:number) {\n    let val:string = '--'\n    if (!isNaN(speedValue)) {\n      val = this.msToKnots(speedValue).toFixed(1)\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    return (\n      <Group>\n        <Line\n          x={width / 2}\n          y={55}\n          stroke='#ffffff80'\n          strokeWidth={1}\n          dash={[1, 5]}\n          points={[\n            0, 0,\n            0, (height / 2) - 55\n          ]}\n        />\n        <Line\n          x={width / 2}\n          y={height / 2}\n          stroke='#ffffff80'\n          strokeWidth={1}\n          dash={[1, 5]}\n          points={[\n            (-height / 2) + 55, 0,\n            (height / 2) - 55, 0\n          ]}\n        />\n        <Line\n          x={width / 2}\n          y={100}\n          stroke='#999999'\n          strokeWidth={4}\n          bezier={true}\n          closed={true}\n          points={[\n            0, 0,\n            60, 70,\n            100, height - 200,\n            0, height - 200,\n            -100, height - 200,\n            -60, 70,\n            0, 0\n          ]}\n        />\n        <Rect\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 30}\n          stroke='orange'\n          strokeWidth={1}\n          dash={[1, 2]}\n          cornerRadius={5}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 30}\n          lineHeight={2}\n          text={`${val} kts`}\n          align='center'\n          fill='white'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={18}\n        />\n      </Group>\n    )\n  }\n\n  renderCircles (heading:number) {\n    const {\n      width,\n      height\n    } = this.props\n\n    const outerOuterRadius:number = (height / 2) - 10\n    const outerInnerRadius:number = outerOuterRadius - 20\n    const innerOuterRadius:number = outerInnerRadius - 5\n    const innerInnerRadius:number = innerOuterRadius - 20\n\n    const rects = []\n    const texts = []\n    let count:number = 1\n\n    for (let i = 0; i <= 360; i += 10) {\n      if (count === 3) {\n        count = 0\n      }\n\n      rects.push(\n        <Rect\n          key={i}\n          x={width / 2}\n          y={height / 2}\n          points={[ count === 1 ? 10.5 : 20.5, height / 2 ]}\n          width={1}\n          height={ (height / 2) - (count === 1 ? 10 : 20) }\n          stroke={count === 1 ? 'white' : '#666666'}\n          rotation={i}\n          offsetX={0.5}\n          offsetY={ (height / 2) - (count === 1 ? 10 : 20) }\n        />\n      )\n\n      if (count === 1 && i < 360) {\n        texts.push(\n          <Text\n            key={i}\n            x={width / 2}\n            y={height / 2}\n            width={40}\n            height={10}\n            fill='black'\n            rotation={i}\n            offsetX={10}\n            offsetY={(height / 2) - 40}\n            text={this.compassDegrees(i)}\n            fontStyle='bold'\n            fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n            fontSize={13}\n          />\n        )\n      }\n\n      count += 1\n    }\n\n    return (\n      <Group\n        rotation={-(heading as number)}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          fill='#444444'\n        />\n        {rects}\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerInnerRadius}\n          fill='black'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerOuterRadius}\n          fill='white'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerInnerRadius}\n          fill='black'\n        />\n        {texts}\n      </Group>\n    )\n  }\n\n  renderTWA (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n    \n    const twa = value || 0\n    const heading:number = 0\n\n    return (\n      <Group\n        rotation={twa}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Wedge\n          x={width / 2}\n          y={40}\n          radius={35}\n          angle={60}\n          fill='#00FF00CC'\n          rotation={60}\n        />\n        <Text\n          x={(width / 2) + 5}\n          y={70}\n          width={40}\n          height={40}\n          fill='white'\n          text='T'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={18}\n          rotation={180}\n        />\n      </Group>\n    )\n  }\n\n  renderAWA (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    const awa = value || 0\n\n    return (\n      <Group\n        rotation={awa}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Wedge\n          x={width / 2}\n          y={40}\n          radius={35}\n          angle={60}\n          fill='#0000FFCC'\n          rotation={-120}\n        />\n        <Text\n          x={(width / 2) - 6}\n          y={10}\n          width={40}\n          height={40}\n          fill='white'\n          text='A'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={18}\n        />\n      </Group>\n    )\n  }\n\n  renderCOG (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    const heading:number = 0\n    const cog = value || 0\n    const calculated = -(heading as number) + cog\n\n    return (\n      <Group\n        rotation={calculated}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Line\n          x={width / 2}\n          y={height / 2}\n          strokeWidth={6}\n          stroke='red'\n          points={[\n            0, (-height / 2) + 55,\n            0, (-height / 2) + 35\n          ]}\n        />\n      </Group>\n    )\n  }\n\n  renderBTW (value?:number) {\n    if (value === null || isNaN(value as number)) {\n      return null\n    }\n\n    const {\n      width,\n      height\n    } = this.props\n\n    const heading:number = 0\n    const btw = value || 0\n\n    return (\n      <Group\n        rotation={-btw}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Circle\n          x={width / 2}\n          y={55}\n          strokeWidth={2}\n          stroke='black'\n          fill='yellow'\n          radius={10}\n        />\n      </Group>\n    )\n  }\n\n  render () {\n    const {\n      height,\n      width,\n      widgets\n    } = this.props\n    \n    const { paths } = this.props\n    const cog = paths['navigation.courseOverGroundTrue']\n    const awa = paths['environment.wind.angleApparent']\n    const twa = paths['environment.wind.angleTrueWater']\n    const btw = null\n\n    let heading = null\n\n    if (typeof paths['navigation.headingMagnetic'] === 'number') {\n      heading = paths['navigation.headingMagnetic'] as number\n    } else if (typeof paths['navigation.headingTrue'] === 'number') {\n      heading = paths['navigation.headingTrue'] as number\n    } else if (typeof paths['navigation.courseOverGroundMagnetic'] === 'number') {\n      heading = paths['navigation.courseOverGroundMagnetic'] as number\n    } else {\n      heading = null\n    }\n\n    if (heading === null) {\n      return (\n        <section className='sailsteer centered'>\n          <h3 className='notification'>Connecting...</h3>\n        </section>\n      )\n    }\n\n    heading = this.radToDegrees(heading)\n    let depth = paths['environment.depth.belowTransducer'] as number\n\n    if (typeof depth !== 'number' || isNaN(depth)) {\n      depth = -9999\n    } else {\n      depth = depth - 1\n    }\n\n    return (\n      <section className='sailsteer'>\n        <Stage width={width} height={height}>\n          <Layer>\n            {this.renderCircles(heading)}\n            {this.renderCenter(paths['navigation.speedOverGround'] as number)}\n            {this.renderTack('port', this.radToDegrees(awa as number), '#FF000080')}\n            {this.renderTack('starboard', this.radToDegrees(awa as number), '#00FF0080')}\n            {twa !== null && this.renderTWA(this.radToDegrees(twa as number))}\n            {awa !== null && this.renderAWA(this.radToDegrees(awa as number))}\n            {cog !== null && this.renderCOG(this.radToDegrees(cog as number))}\n            {btw !== null && this.renderBTW(this.radToDegrees(btw as number))}\n          </Layer>\n        </Stage>\n        \n        {widgets === true && (<div className='widgets-left'>\n          <Widget position='left' label='COG' value={paths['navigation.courseOverGroundTrue']} conversion='degrees' postfix='°' />\n          <Widget position='left' label='SOG' value={paths['navigation.speedOverGround']} conversion='knots' />\n          <Widget position='left' label='Speed' value={paths['navigation.speedThroughWater']} conversion='knots' />\n          <Widget position='left' label='VMG' value={paths['navigation.velocityMadeGood']} conversion='knots' />\n        </div>)}\n\n        {widgets === true && (<div className='widgets-right'>\n          <Widget position='right' label='Depth' value={depth} />\n          {/* <Widget position='right' label='WindR (app.)' value={this.radToDegrees(paths['environment.wind.angleApparent'] as number)} />\n          <Widget position='right' label='WindR (waar)' value={this.radToDegrees(paths['environment.wind.angleTrueWater'] as number)} /> */}\n          <Widget position='right' label='Windspd (A)' value={paths['environment.wind.speedApparent']} conversion='knots' />\n          <Widget position='right' label='Windspd (T)' value={paths['environment.wind.speedTrue']} conversion='knots' />\n          <Widget position='right' label='Current' value={paths['environment.current']} conversion='degrees' postfix='°' />\n        </div>)}\n      </section>\n    )\n  }\n\n  msToKnots (ms:number):number {\n    return ms * 1.94384449\n  }\n\n  radToDegrees (rad:number):number {\n    return rad * 180 / Math.PI\n  }\n\n  compassDegrees (n:number, len:number = 3):string {\n    if (n === 0) {\n      return ' N '\n    }\n\n    if (n === 90) {\n      return ' O '\n    }\n\n    if (n === 180) {\n      return ' Z '\n    }\n\n    if (n === 270) {\n      return ' W '\n    }\n\n    let str:string = String(n)\n\n    while (str.length < len) {\n      str = `0${str}`\n    }\n\n    return str\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport pick from 'object.pick'\nimport { IApplicationState } from '../../types'\nimport SailSteer from './sailsteer'\n\nconst mapStateToProps = ({ signalk }: IApplicationState, ownProps: any) => {\n  const { data } = signalk\n  const paths = pick(data, [\n    'name',\n    'navigation.speedThroughWater',\n    'navigation.courseOverGroundMagnetic',\n    'navigation.headingMagnetic',\n    'navigation.courseOverGroundTrue',\n    'navigation.speedOverGround',\n    'navigation.position',\n    'performance.velocityMadeGood',\n    'environment.wind.speedApparent',\n    'environment.wind.angleApparent',\n    'environment.wind.speedTrue',\n    'environment.wind.angleTrueWater',\n    'environment.depth.belowTransducer',\n    'environment.current'\n  ])\n\n  return {\n    ...ownProps,\n    paths\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SailSteer)\n","import React from 'react'\nimport { Stage, Layer, Circle, Rect, Text, Group, Line, Wedge } from 'react-konva'\nimport { IWindPropTypes, EWindTypes } from '../../types'\nimport './wind.css'\n\nexport default class Wind extends React.Component<IWindPropTypes> {\n  renderCenter (speed:number, angle:number) {\n    let val:string = '--'\n    if (!isNaN(speed)) {\n      val = this.msToKnots(speed).toFixed(1)\n    }\n\n    const {\n      width,\n      height,\n      type\n    } = this.props\n\n    const outerOuterRadius:number = (height / 2) - 10\n    const outerInnerRadius:number = outerOuterRadius - 40\n\n    return (\n      <Group>\n        <Line\n          x={width / 2}\n          y={55}\n          stroke='#ffffff80'\n          strokeWidth={1}\n          dash={[1, 5]}\n          points={[\n            0, 0,\n            0, (height / 2) - 55\n          ]}\n        />\n        \n        <Line\n          x={width / 2}\n          y={100}\n          stroke='#999999'\n          strokeWidth={4}\n          bezier={true}\n          closed={true}\n          points={[\n            0, 0,\n            60, 70,\n            100, height - 200,\n            0, height - 200,\n            -100, height - 200,\n            -60, 70,\n            0, 0\n          ]}\n        />\n        <Rect\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 5}\n          stroke='orange'\n          strokeWidth={1}\n          dash={[1, 2]}\n          cornerRadius={5}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 5}\n          lineHeight={2.3}\n          text={`${angle >= 0 ? '+' : ''}${this.radToDegrees(angle).toFixed(1)}°`}\n          align='center'\n          fill='white'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={16}\n        />\n        <Rect\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 50}\n          stroke='orange'\n          strokeWidth={1}\n          dash={[1, 2]}\n          cornerRadius={5}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 50}\n          lineHeight={2.3}\n          // text={`${this.radToDegrees(angle).toFixed(1)}`}\n          text={`${val} kts`}\n          align='center'\n          fill='white'\n          fontStyle='bold'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={16}\n        />\n        <Text\n          width={90}\n          height={35}\n          x={(width / 2) - 45}\n          y={(height / 2) + 85}\n          lineHeight={2}\n          text={type}\n          align='center'\n          fill='white'\n          fontStyle='normal'\n          fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n          fontSize={14}\n        />\n\n        <Line\n          x={width / 2}\n          y={(height / 2)}\n          stroke='magenta'\n          strokeWidth={3}\n          rotation={-180 + this.radToDegrees(angle)}\n          shadowColor='black'\n          shadowBlur={10}\n          shadowOpacity={1}\n          points={[\n            0, (height / 2) - 45,\n            0, 0\n          ]}\n        />\n      </Group>\n    )\n  }\n\n  renderCircles () {\n    const {\n      width,\n      height\n    } = this.props\n\n    const heading:number = 0\n    const outerOuterRadius:number = (height / 2) - 10\n    const outerInnerRadius:number = outerOuterRadius - 20\n    const innerOuterRadius:number = outerInnerRadius - 5\n    const innerInnerRadius:number = innerOuterRadius - 20\n\n    const rects = []\n    const texts = []\n    let count:number = 1\n\n    for (let i = 0; i <= 360; i += 10) {\n      if (count === 3) {\n        count = 0\n      }\n\n      let colour = '#666666'\n\n      if (count === 1 || (i >= 20 && i <= 70) || (i >= 290 && i <= 340)) {\n        colour = 'white'\n      }\n\n      rects.push(\n        <Rect\n          key={i}\n          x={width / 2}\n          y={height / 2}\n          points={[ count === 1 ? 10.5 : 20.5, height / 2 ]}\n          width={1}\n          height={ (height / 2) - (count === 1 ? 10 : 20) }\n          stroke={colour}\n          rotation={i}\n          offsetX={0.5}\n          offsetY={ (height / 2) - (count === 1 ? 10 : 20) }\n        />\n      )\n\n      if (count === 1 && i < 360) {\n        texts.push(\n          <Text\n            key={i}\n            x={width / 2}\n            y={height / 2}\n            width={40}\n            height={10}\n            fill='black'\n            rotation={i}\n            offsetX={10}\n            offsetY={(height / 2) - 40}\n            text={this.compassDegrees(i)}\n            fontStyle='bold'\n            fontFamily='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif'\n            fontSize={13}\n          />\n        )\n      }\n\n      count += 1\n    }\n\n    return (\n      <Group\n        rotation={-(heading as number)}\n        offsetX={width / 2}\n        offsetY={height / 2}\n        x={width / 2}\n        y={height / 2}\n      >\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          fill='#444444'\n        />\n        <Wedge\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          angle={50}\n          fill='red'\n          rotation={-70}\n        />\n        <Wedge\n          x={width / 2}\n          y={height / 2}\n          radius={outerOuterRadius}\n          angle={50}\n          fill='green'\n          rotation={-160}\n        />\n        {rects}\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={outerInnerRadius}\n          fill='black'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerOuterRadius}\n          fill='white'\n        />\n        <Circle\n          x={width / 2}\n          y={height / 2}\n          radius={innerInnerRadius}\n          fill='black'\n        />\n        {texts}\n      </Group>\n    )\n  }\n\n  render () {\n    const {\n      height,\n      width,\n      type\n    } = this.props\n    \n    const { paths } = this.props\n    let angle:number = 0\n    let speed:number = 0\n\n    if (type === EWindTypes.APPARENT) {\n      angle = (paths['environment.wind.angleApparent'] as number)\n      speed = (paths['environment.wind.speedApparent'] as number)\n    } else {\n      angle = (paths['environment.wind.angleTrueWater'] as number)\n      speed = (paths['environment.wind.speedTrue'] as number)\n    }\n\n    if (isNaN(angle)) {\n      angle = 0\n    }\n\n    if (isNaN(speed)) {\n      speed = 0\n    }\n\n    return (\n      <section className='wind'>\n        <Stage width={width} height={height}>\n          <Layer>\n            {this.renderCircles()}\n            {this.renderCenter(speed, angle)}\n          </Layer>\n        </Stage>\n      </section>\n    )\n  }\n\n  msToKnots (ms:number):number {\n    return ms * 1.94384449\n  }\n\n  radToDegrees (rad:number):number {\n    return rad * 180 / Math.PI\n  }\n\n  compassDegrees (n:number, len:number = 3):string {\n    if (n === 0 || n === 180) {\n      return ''\n    }\n\n    let str:string = String(n)\n\n    if (n > 180) {\n      str = String(180 - (n - 180))\n    }\n\n    while (str.length < len) {\n      str = `0${str}`\n    }\n\n    return str\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport pick from 'object.pick'\nimport { IApplicationState } from '../../types'\nimport Wind from './wind'\n\nconst mapStateToProps = ({ signalk }: IApplicationState, ownProps: any) => {\n  const { data } = signalk\n  const paths = pick(data, [\n    'environment.wind.speedApparent',\n    'environment.wind.angleApparent',\n    'environment.wind.speedTrue',\n    'environment.wind.angleTrueWater'\n  ])\n\n  return {\n    ...ownProps,\n    paths\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Wind)\n","import React from 'react'\nimport { IGridPropTypes, EDisplayTypes } from '../../types'\nimport './grid.css'\nimport Widget from '../widget'\n\nexport default class Wind extends React.Component<IGridPropTypes> {\n  render () {\n    const {\n      layout,\n      widgets,\n      paths,\n      configs\n    } = this.props\n\n    let content = null\n    let blocks = widgets.map((path:string) => {\n      const value = paths[path]\n      const config = configs[path]\n\n      return (\n        <Widget\n          key={path}\n          conversion={config.conversion}\n          postfix={config.postfix}\n          label={config.label}\n          value={value}\n        />\n      )\n    })\n\n    switch (layout) {\n      case EDisplayTypes.GRID2:\n        content = (\n          <div className='rows'>\n            <div className='row double'>\n              <div className='col xs-6'>\n                {blocks[0]}\n              </div>\n              <div className='col xs-6'>\n                {blocks[1]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n\n      case EDisplayTypes.GRID4:\n        content = (\n          <div className='rows'>\n            <div className='row'>\n              <div className='col xs-6'>\n                {blocks[0]}\n              </div>\n              <div className='col xs-6'>\n                {blocks[1]}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col xs-6'>\n                {blocks[2]}\n              </div>\n              <div className='col xs-6'>\n                {blocks[3]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n\n      case EDisplayTypes.GRID6:\n        content = (\n          <div className='rows'>\n            <div className='row'>\n              <div className='col xs-4'>\n                {blocks[0]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[1]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[2]}\n              </div>\n            </div>\n            <div className='row'>\n              <div className='col xs-4'>\n                {blocks[3]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[4]}\n              </div>\n              <div className='col xs-4'>\n                {blocks[5]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n\n      default:\n        content = (\n          <div className='rows'>\n            <div className='row double'>\n              <div className='col xs-12'>\n                {blocks[0]}\n              </div>\n            </div>\n          </div>\n        )\n        break\n    }\n    \n    return (\n      <section className='grid'>\n        {content}\n      </section>\n    )\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport pick from 'object.pick'\nimport configs from '../../config'\nimport { IApplicationState } from '../../types'\nimport Grid from './grid'\n\nconst mapStateToProps = ({ signalk, ui }: IApplicationState, ownProps: any) => {\n  const { data } = signalk\n  const paths = pick(data, ui.widgets)\n\n  return {\n    ...ownProps,\n    layout: ui.display,\n    widgets: ui.widgets,\n    configs,\n    paths\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Grid)\n","import React from 'react'\nimport { IAppPropTypes, EDisplayTypes } from '../../types'\nimport './app.css'\n\nimport SailSteer from '../sailsteer'\nimport Wind from '../wind'\nimport Grid from '../grid'\n\nexport default class App extends React.Component<IAppPropTypes> {\n  render () {\n    const { innerHeight, innerWidth } = window\n    const {\n      display,\n      type,\n      connected\n    } = this.props\n\n    if (connected === false) {\n      return (\n        <section className='sailsteer centered'>\n          <h3 className='notification'>Connecting...</h3>\n        </section>\n      )\n    }\n\n    switch (display) {\n      case EDisplayTypes.WIND:\n        return <Wind\n          type={type}\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      case EDisplayTypes.SAILSTEER:\n        return <SailSteer\n          widgets={true}\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      case EDisplayTypes.GRID1:\n      case EDisplayTypes.GRID2:\n      case EDisplayTypes.GRID4:\n      case EDisplayTypes.GRID6:\n        return <Grid\n          width={innerWidth}\n          height={innerHeight}\n        />\n\n      default:\n        return (\n          <p style={{ textAlign: 'center' }}>\n            <strong style={{ color: 'white' }}>Loading...</strong>\n          </p>\n        )\n    }\n  }\n}\n","import { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport { IApplicationState, EWindTypes } from '../../types'\nimport App from './app'\n\nconst mapStateToProps = ({ ui }: IApplicationState, ownProps: any) => {\n  return {\n    ...ownProps,\n    display: ui.display,\n    type: ui.windType,\n    widgets: ui.widgets,\n    connected: ui.connected\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App)\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport Client from '@signalk/client'\nimport configureStore from './data/configure'\nimport { refresh, setConnected } from './data/ducks/ui'\nimport { hydrateAction } from './data/ducks/signalk'\n\nimport {\n  SK_HOST,\n  SK_PORT,\n  SK_USERNAME,\n  SK_PASSWORD,\n  SK_AUTH,\n  IDENTITY\n} from './config'\n\nimport './index.css'\nimport App from './gui/app'\n\nconst client = new Client({\n  hostname: SK_HOST,\n  port: SK_PORT,\n  useAuthentication: SK_AUTH,\n  username: SK_USERNAME,\n  password: SK_PASSWORD,\n  useTLS: false,\n  reconnect: true,\n  autoConnect: true,\n  notifications: false\n})\n\nconst store = configureStore(client)\nstore.dispatch(refresh(IDENTITY))\n\nclient.on('connect', () => {\n  console.log('client.connect')\n  store.dispatch(setConnected(true))\n  store.dispatch((hydrateAction as any)())\n})\n\nclient.on('disconnect', () => {\n  console.log('client.disconnect')\n  store.dispatch(setConnected(false))\n})\n\nconst Root = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(\n  Root,\n  document.getElementById('root') as HTMLElement\n)\n","import {\n  Store,\n  createStore,\n  applyMiddleware\n} from 'redux'\n\nimport createSagaMiddleware from 'redux-saga'\nimport thunk from 'redux-thunk'\nimport sagas from './sagas'\nimport { IApplicationState } from '../types'\nimport rootReducer, { initialState } from './ducks'\n\nexport { initialState }\nexport default function configureStore(signalk:any): Store<IApplicationState> {\n  const sagaMiddleware = createSagaMiddleware()\n  const store = createStore(\n    rootReducer,\n    initialState,\n    applyMiddleware(\n      sagaMiddleware,\n      thunk.withExtraArgument(signalk)\n    )\n  )\n\n  sagaMiddleware.run(sagas)\n  return store\n}\n"],"sourceRoot":""}